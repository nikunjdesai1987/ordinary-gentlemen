#!/bin/bash

echo "üî• Firebase App Setup Script for Ordinary Gentlemen"
echo "=================================================="
echo ""

echo "üìã Step-by-Step Instructions:"
echo ""

echo "1Ô∏è‚É£ CREATE NEW FIREBASE PROJECT:"
echo "   ‚Ä¢ Go to: https://console.firebase.google.com/"
echo "   ‚Ä¢ Click 'Create a project'"
echo "   ‚Ä¢ Name: 'ordinary-gentlemen-v2' (or your preferred name)"
echo "   ‚Ä¢ Disable Google Analytics (optional)"
echo ""

echo "2Ô∏è‚É£ ADD WEB APP:"
echo "   ‚Ä¢ Click Web icon (</>)"
echo "   ‚Ä¢ App nickname: 'ordinary-gentlemen-web'"
echo "   ‚Ä¢ Enable Firebase Hosting: ‚ùå (NOT needed - you use Vercel)"
echo "   ‚Ä¢ Click 'Register app'"
echo ""

echo "3Ô∏è‚É£ COPY FIREBASE CONFIG:"
echo "   ‚Ä¢ Copy the config object that looks like this:"
echo "   ‚Ä¢ apiKey: 'AIzaSy...'"
echo "   ‚Ä¢ authDomain: 'project.firebaseapp.com'"
echo "   ‚Ä¢ projectId: 'project-id'"
echo "   ‚Ä¢ storageBucket: 'project.appspot.com'"
echo "   ‚Ä¢ messagingSenderId: '123456789'"
echo "   ‚Ä¢ appId: '1:123456789:web:abc123'"
echo ""

echo "4Ô∏è‚É£ ENABLE AUTHENTICATION:"
echo "   ‚Ä¢ Left sidebar ‚Üí Authentication"
echo "   ‚Ä¢ Click 'Get started'"
echo "   ‚Ä¢ Sign-in method tab ‚Üí Google"
echo "   ‚Ä¢ Enable Google sign-in"
echo "   ‚Ä¢ Set project support email"
echo "   ‚Ä¢ Click 'Save'"
echo ""

echo "5Ô∏è‚É£ CREATE FIRESTORE DATABASE:"
echo "   ‚Ä¢ Left sidebar ‚Üí Firestore Database"
echo "   ‚Ä¢ Click 'Create database'"
echo "   ‚Ä¢ Start in test mode"
echo "   ‚Ä¢ Choose location (closest to users)"
echo ""

echo "6Ô∏è‚É£ CREATE WHITELIST COLLECTION:"
echo "   ‚Ä¢ Click 'Start collection'"
echo "   ‚Ä¢ Collection ID: 'whitelist'"
echo "   ‚Ä¢ Document ID: 'nik.desai87@gmail.com'"
echo "   ‚Ä¢ Add fields:"
echo "     - manager_fplid: [your FPL ID]"
echo "     - isAdmin: true"
echo "   ‚Ä¢ Add another document: 'desainikunj234@gmail.com'"
echo "     - manager_fplid: [test FPL ID]"
echo "     - isAdmin: false"
echo ""

echo "7Ô∏è‚É£ UPDATE ENVIRONMENT VARIABLES:"
echo "   ‚Ä¢ Create/update .env.local file with new Firebase config"
echo "   ‚Ä¢ Restart your development server"
echo ""

echo "8Ô∏è‚É£ TEST AUTHENTICATION:"
echo "   ‚Ä¢ Try logging in with both emails"
echo "   ‚Ä¢ Both should work if in whitelist"
echo ""

echo "üîß Troubleshooting Tips:"
echo "   ‚Ä¢ Ensure Google sign-in is enabled"
echo "   ‚Ä¢ Check that domain restrictions allow localhost"
echo "   ‚Ä¢ Verify Firestore rules allow read access"
echo "   ‚Ä¢ Check browser console for errors"
echo ""

echo "‚úÖ Setup Complete! Your new Firebase app should work for all whitelisted users."
