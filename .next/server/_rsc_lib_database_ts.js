"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_rsc_lib_database_ts";
exports.ids = ["_rsc_lib_database_ts"];
exports.modules = {

/***/ "(rsc)/./lib/database.ts":
/*!*************************!*\
  !*** ./lib/database.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   dbUtils: () => (/* binding */ dbUtils)\n/* harmony export */ });\n/* harmony import */ var dexie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dexie */ \"(rsc)/./node_modules/dexie/dist/modern/dexie.mjs\");\n\nclass FPLDatabase extends dexie__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(){\n        super(\"FPLDatabase\");\n        this.version(10).stores({\n            users: \"++id, uid, email\",\n            predictions: \"++id, userId, gameweek, [userId+gameweek], submittedAt\",\n            gameweekSummaries: \"++id, gameweek, isActive\",\n            leagueStandings: \"++id, userId, gameweek, [userId+gameweek], rank\",\n            scoreStrikeEntries: \"++id, fplleague_id, manager_email, manager_fplid, manager_scrname, fixture_id, gameweek, [manager_email+fixture_id+gameweek], submitted_timestamp\",\n            scoreStrikePots: \"++id, fplleague_id, gameweek, is_active, [fplleague_id+gameweek]\",\n            scoreStrikeWinners: \"++id, fplleague_id, gameweek, fixture_id, manager_email, [fplleague_id+gameweek]\",\n            adminConfigs: \"++id, adminId, timestamp, isConfirmed, leagueId, updatedAt\",\n            leagueInfos: \"++id, leagueId, leagueName, leagueAdmin, adminId, isCreated, createdAt, updatedAt\",\n            matchResults: \"++id, fixtureId, gameweek, homeTeamId, awayTeamId, [gameweek+fixtureId]\",\n            goalscorers: \"++id, matchResultId, playerId, teamId\"\n        });\n    }\n}\nconst db = new FPLDatabase();\n// Database utility functions\nconst dbUtils = {\n    // User operations\n    async saveUser (user) {\n        const existingUser = await db.users.where(\"uid\").equals(user.uid).first();\n        if (existingUser) {\n            return await db.users.update(existingUser.id, {\n                ...user,\n                updatedAt: new Date()\n            });\n        }\n        return await db.users.add(user);\n    },\n    async getUser (uid) {\n        return await db.users.where(\"uid\").equals(uid).first();\n    },\n    // Prediction operations\n    async savePrediction (prediction) {\n        return await db.predictions.add(prediction);\n    },\n    async getPredictionsByUser (userId, gameweek) {\n        if (gameweek) {\n            return await db.predictions.where(\"[userId+gameweek]\").equals([\n                userId,\n                gameweek\n            ]).toArray();\n        }\n        return await db.predictions.where(\"userId\").equals(userId).toArray();\n    },\n    async getPredictionsByGameweek (gameweek) {\n        return await db.predictions.where(\"gameweek\").equals(gameweek).toArray();\n    },\n    // Gameweek operations\n    async saveGameweekSummary (summary) {\n        const existing = await db.gameweekSummaries.where(\"gameweek\").equals(summary.gameweek).first();\n        if (existing) {\n            return await db.gameweekSummaries.update(existing.id, summary);\n        }\n        return await db.gameweekSummaries.add(summary);\n    },\n    async getActiveGameweek () {\n        return await db.gameweekSummaries.filter((gameweek)=>gameweek.isActive).first();\n    },\n    // League standings operations\n    async saveLeagueStanding (standing) {\n        const existing = await db.leagueStandings.where(\"[userId+gameweek]\").equals([\n            standing.userId,\n            standing.gameweek\n        ]).first();\n        if (existing) {\n            return await db.leagueStandings.update(existing.id, standing);\n        }\n        return await db.leagueStandings.add(standing);\n    },\n    async getLeagueStandings (gameweek) {\n        if (gameweek) {\n            return await db.leagueStandings.where(\"gameweek\").equals(gameweek).toArray();\n        }\n        return await db.leagueStandings.toArray();\n    },\n    // Score and Strike Entries operations\n    async saveScoreStrikeEntry (entry) {\n        // Check if there's an existing entry for this manager, fixture, and gameweek\n        const existingEntry = await db.scoreStrikeEntries.where([\n            \"manager_email\",\n            \"fixture_id\",\n            \"gameweek\"\n        ]).equals([\n            entry.manager_email,\n            entry.fixture_id,\n            entry.gameweek\n        ]).first();\n        if (existingEntry) {\n            // Update existing entry (only most recent entry is kept)\n            return await db.scoreStrikeEntries.update(existingEntry.id, {\n                ...entry,\n                submitted_timestamp: new Date()\n            });\n        }\n        // Add new entry\n        return await db.scoreStrikeEntries.add(entry);\n    },\n    async getScoreStrikeEntriesByManager (manager_email) {\n        return await db.scoreStrikeEntries.where(\"manager_email\").equals(manager_email).toArray();\n    },\n    async getScoreStrikeEntriesByLeague (fplleague_id) {\n        return await db.scoreStrikeEntries.where(\"fplleague_id\").equals(fplleague_id).toArray();\n    },\n    async getScoreStrikeEntriesByManagerAndLeague (manager_email, fplleague_id) {\n        return await db.scoreStrikeEntries.where([\n            \"manager_email\",\n            \"fplleague_id\"\n        ]).equals([\n            manager_email,\n            fplleague_id\n        ]).toArray();\n    },\n    async getScoreStrikeEntriesByFixture (fixture_id, gameweek) {\n        return await db.scoreStrikeEntries.where([\n            \"fixture_id\",\n            \"gameweek\"\n        ]).equals([\n            fixture_id,\n            gameweek\n        ]).toArray();\n    },\n    async getScoreStrikeEntryByManagerAndFixture (manager_email, fixture_id, gameweek) {\n        return await db.scoreStrikeEntries.where([\n            \"manager_email\",\n            \"fixture_id\",\n            \"gameweek\"\n        ]).equals([\n            manager_email,\n            fixture_id,\n            gameweek\n        ]).first();\n    },\n    async getAllScoreStrikeEntries () {\n        return await db.scoreStrikeEntries.toArray();\n    },\n    // Score and Strike Pot operations\n    async saveScoreStrikePot (pot) {\n        const existingPot = await db.scoreStrikePots.where([\n            \"fplleague_id\",\n            \"gameweek\"\n        ]).equals([\n            pot.fplleague_id,\n            pot.gameweek\n        ]).first();\n        if (existingPot) {\n            return await db.scoreStrikePots.update(existingPot.id, {\n                ...pot,\n                updated_at: new Date()\n            });\n        }\n        return await db.scoreStrikePots.add(pot);\n    },\n    async getScoreStrikePot (fplleague_id, gameweek) {\n        return await db.scoreStrikePots.where([\n            \"fplleague_id\",\n            \"gameweek\"\n        ]).equals([\n            fplleague_id,\n            gameweek\n        ]).first();\n    },\n    async getCurrentScoreStrikePot (fplleague_id) {\n        return await db.scoreStrikePots.where(\"fplleague_id\").equals(fplleague_id).filter((pot)=>pot.is_active).first();\n    },\n    // Score and Strike Winner operations\n    async saveScoreStrikeWinner (winner) {\n        return await db.scoreStrikeWinners.add(winner);\n    },\n    async getScoreStrikeWinnersByGameweek (fplleague_id, gameweek) {\n        return await db.scoreStrikeWinners.where([\n            \"fplleague_id\",\n            \"gameweek\"\n        ]).equals([\n            fplleague_id,\n            gameweek\n        ]).toArray();\n    },\n    async getScoreStrikeWinnersByFixture (fixture_id, gameweek) {\n        return await db.scoreStrikeWinners.where([\n            \"fixture_id\",\n            \"gameweek\"\n        ]).equals([\n            fixture_id,\n            gameweek\n        ]).toArray();\n    },\n    // Get all Score and Strike winners for a specific gameweek with pot distribution\n    async getScoreStrikeWinnersByGameweekWithPotDistribution (fplleague_id, gameweek) {\n        try {\n            // Get all winners for this gameweek\n            const winners = await this.getScoreStrikeWinnersByGameweek(fplleague_id, gameweek);\n            if (winners.length === 0) {\n                return {\n                    winners: [],\n                    totalWinners: 0,\n                    potAmount: 0,\n                    amountPerWinner: 0\n                };\n            }\n            // Get the pot amount for this gameweek\n            const pot = await this.getScoreStrikePot(fplleague_id, gameweek);\n            const potAmount = pot?.current_amount || 0;\n            // Calculate amount per winner (pot divided by number of winners)\n            const totalWinners = winners.length;\n            const amountPerWinner = totalWinners > 0 ? potAmount / totalWinners : 0;\n            return {\n                winners,\n                totalWinners,\n                potAmount,\n                amountPerWinner\n            };\n        } catch (error) {\n            console.error(\"Error getting Score and Strike winners with pot distribution:\", error);\n            return {\n                winners: [],\n                totalWinners: 0,\n                potAmount: 0,\n                amountPerWinner: 0\n            };\n        }\n    },\n    // Admin Configuration operations\n    async saveAdminConfig (config) {\n        return await db.adminConfigs.add(config);\n    },\n    async getLatestAdminConfig () {\n        return await db.adminConfigs.orderBy(\"timestamp\").reverse().first();\n    },\n    async getAdminConfigsByAdmin (adminId) {\n        const configs = await db.adminConfigs.where(\"adminId\").equals(adminId).toArray();\n        return configs.sort((a, b)=>new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime());\n    },\n    async getAllAdminConfigs () {\n        const configs = await db.adminConfigs.toArray();\n        return configs.sort((a, b)=>new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime());\n    },\n    // League Info operations\n    async saveLeagueInfo (leagueInfo) {\n        const existingLeague = await db.leagueInfos.where(\"leagueId\").equals(leagueInfo.leagueId).first();\n        if (existingLeague) {\n            return await db.leagueInfos.update(existingLeague.id, {\n                ...leagueInfo,\n                updatedAt: new Date()\n            });\n        }\n        return await db.leagueInfos.add(leagueInfo);\n    },\n    async getLeagueInfo (leagueId) {\n        return await db.leagueInfos.where(\"leagueId\").equals(leagueId).first();\n    },\n    async getAllLeagueInfos () {\n        const leagues = await db.leagueInfos.toArray();\n        return leagues.sort((a, b)=>new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\n    },\n    async getCreatedLeagues () {\n        return await db.leagueInfos.filter((league)=>league.isCreated).toArray();\n    },\n    async updateLeagueCreatedStatus (leagueId, isCreated) {\n        const league = await db.leagueInfos.where(\"leagueId\").equals(leagueId).first();\n        if (league) {\n            await db.leagueInfos.update(league.id, {\n                isCreated,\n                updatedAt: new Date()\n            });\n        }\n    },\n    // Match Result operations\n    async saveMatchResult (matchResult) {\n        const existing = await db.matchResults.where(\"[gameweek+fixtureId]\").equals([\n            matchResult.gameweek,\n            matchResult.fixtureId\n        ]).first();\n        if (existing) {\n            return await db.matchResults.update(existing.id, {\n                ...matchResult,\n                lastUpdated: new Date()\n            });\n        }\n        return await db.matchResults.add(matchResult);\n    },\n    async getMatchResultsByGameweek (gameweek) {\n        return await db.matchResults.where(\"gameweek\").equals(gameweek).toArray();\n    },\n    async getMatchResultByFixture (fixtureId) {\n        return await db.matchResults.where(\"fixtureId\").equals(fixtureId).first();\n    },\n    async getAllMatchResults () {\n        return await db.matchResults.toArray();\n    },\n    // Goalscorer operations\n    async saveGoalscorer (goalscorer) {\n        return await db.goalscorers.add(goalscorer);\n    },\n    async getGoalscorersByMatch (matchResultId) {\n        return await db.goalscorers.where(\"matchResultId\").equals(matchResultId).toArray();\n    },\n    async getGoalscorersByGameweek (gameweek) {\n        const matchResults = await this.getMatchResultsByGameweek(gameweek);\n        const matchIds = matchResults.map((match)=>match.id);\n        return await db.goalscorers.where(\"matchResultId\").anyOf(matchIds).toArray();\n    },\n    async saveMatchData (matchData) {\n        // Save match result first\n        const matchResultId = await this.saveMatchResult(matchData.matchResult);\n        // Save goalscorers\n        const goalscorerIds = [];\n        for (const goalscorer of matchData.goalscorers){\n            goalscorer.matchResultId = matchResultId;\n            const goalscorerId = await this.saveGoalscorer(goalscorer);\n            goalscorerIds.push(goalscorerId);\n        }\n        return {\n            matchResultId,\n            goalscorerIds\n        };\n    },\n    // Utility functions\n    async clearOldData (olderThanDays = 30) {\n        const cutoffDate = new Date();\n        cutoffDate.setDate(cutoffDate.getDate() - olderThanDays);\n        await db.predictions.where(\"submittedAt\").below(cutoffDate).delete();\n    },\n    // Function to clear all database data (useful for version conflicts)\n    async clearAllData () {\n        console.log(\"\\uD83D\\uDDD1️ Clearing all database data...\");\n        try {\n            await db.transaction(\"rw\", [\n                db.users,\n                db.predictions,\n                db.gameweekSummaries,\n                db.leagueStandings,\n                db.scoreStrikeEntries,\n                db.scoreStrikePots,\n                db.scoreStrikeWinners,\n                db.adminConfigs,\n                db.leagueInfos,\n                db.matchResults,\n                db.goalscorers\n            ], async ()=>{\n                await db.users.clear();\n                await db.predictions.clear();\n                await db.gameweekSummaries.clear();\n                await db.leagueStandings.clear();\n                await db.scoreStrikeEntries.clear();\n                await db.scoreStrikePots.clear();\n                await db.scoreStrikeWinners.clear();\n                await db.adminConfigs.clear();\n                await db.leagueInfos.clear();\n                await db.matchResults.clear();\n                await db.goalscorers.clear();\n            });\n            console.log(\"✅ Database data cleared successfully\");\n        } catch (error) {\n            console.error(\"❌ Error clearing database data:\", error);\n            throw error;\n        }\n    },\n    // Function to delete the entire database (nuclear option for version conflicts)\n    async deleteDatabase () {\n        console.log(\"\\uD83D\\uDCA5 Deleting entire database...\");\n        try {\n            await db.delete();\n            console.log(\"✅ Database deleted successfully\");\n        } catch (error) {\n            console.error(\"❌ Error deleting database:\", error);\n            throw error;\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WyJ3ZWJwYWNrOi8vb3JkaW5hcnktZ2VudGxlbWVuLy4vbGliL2RhdGFiYXNlLnRzPzRkNDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERleGllLCB7IFRhYmxlIH0gZnJvbSAnZGV4aWUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZXIge1xuICBpZD86IG51bWJlcjtcbiAgdWlkOiBzdHJpbmc7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIGRpc3BsYXlOYW1lOiBzdHJpbmc7XG4gIHBob3RvVVJMPzogc3RyaW5nO1xuICBjcmVhdGVkQXQ6IERhdGU7XG4gIHVwZGF0ZWRBdDogRGF0ZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcmVkaWN0aW9uIHtcbiAgaWQ/OiBudW1iZXI7XG4gIHVzZXJJZDogc3RyaW5nO1xuICBnYW1ld2VlazogbnVtYmVyO1xuICBob21lVGVhbTogc3RyaW5nO1xuICBhd2F5VGVhbTogc3RyaW5nO1xuICBob21lR29hbHM6IG51bWJlcjtcbiAgYXdheUdvYWxzOiBudW1iZXI7XG4gIGdvYWxzY29yZXI6IHN0cmluZztcbiAgc3VibWl0dGVkQXQ6IERhdGU7XG4gIGlzQ29ycmVjdD86IGJvb2xlYW47XG4gIHBvaW50cz86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHYW1ld2Vla1N1bW1hcnkge1xuICBpZD86IG51bWJlcjtcbiAgZ2FtZXdlZWs6IG51bWJlcjtcbiAgc3RhcnREYXRlOiBEYXRlO1xuICBlbmREYXRlOiBEYXRlO1xuICBpc0FjdGl2ZTogYm9vbGVhbjtcbiAgaXNDb21wbGV0ZWQ6IGJvb2xlYW47XG4gIHRvdGFsUGFydGljaXBhbnRzOiBudW1iZXI7XG4gIGF2ZXJhZ2VTY29yZTogbnVtYmVyO1xuICB0b3BTY29yZTogbnVtYmVyO1xuICB0b3BTY29yZXI6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMZWFndWVTdGFuZGluZyB7XG4gIGlkPzogbnVtYmVyO1xuICB1c2VySWQ6IHN0cmluZztcbiAgZ2FtZXdlZWs6IG51bWJlcjtcbiAgbWFuYWdlck5hbWU6IHN0cmluZztcbiAgdGVhbU5hbWU6IHN0cmluZztcbiAgZ2FtZXdlZWtQb2ludHM6IG51bWJlcjtcbiAgdG90YWxQb2ludHM6IG51bWJlcjtcbiAgdHJhbnNmZXJzOiBudW1iZXI7XG4gIHRlYW1WYWx1ZTogbnVtYmVyO1xuICBjaGlwVXNlZD86IHN0cmluZztcbiAgcmFuazogbnVtYmVyO1xuICBsYXN0VXBkYXRlZDogRGF0ZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTY29yZVN0cmlrZUVudHJ5IHtcbiAgaWQ/OiBudW1iZXI7XG4gIGZwbGxlYWd1ZV9pZDogbnVtYmVyO1xuICBtYW5hZ2VyX2VtYWlsOiBzdHJpbmc7XG4gIG1hbmFnZXJfZnBsaWQ6IG51bWJlcjtcbiAgbWFuYWdlcl9mX25hbWU6IHN0cmluZztcbiAgbWFuYWdlcl9sX25hbWU6IHN0cmluZztcbiAgbWFuYWdlcl9zY3JuYW1lOiBzdHJpbmc7XG4gIGZpeHR1cmVfaWQ6IG51bWJlcjsgLy8gQWRkIGZpeHR1cmUgSUQgZm9yIHNwZWNpZmljIGZpeHR1cmUgdHJhY2tpbmdcbiAgZ2FtZXdlZWs6IG51bWJlcjsgLy8gQWRkIGdhbWV3ZWVrIGZvciBlYXNpZXIgcXVlcnlpbmdcbiAgaG9tZV9nb2FsOiBudW1iZXI7XG4gIGF3YXlfZ29hbDogbnVtYmVyO1xuICBwbGF5ZXJfbmFtZTogc3RyaW5nOyAvLyBFbXB0eSBzdHJpbmcgZm9yIDAtMCBwcmVkaWN0aW9uc1xuICBzdWJtaXR0ZWRfdGltZXN0YW1wOiBEYXRlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNjb3JlU3RyaWtlUG90IHtcbiAgaWQ/OiBudW1iZXI7XG4gIGZwbGxlYWd1ZV9pZDogbnVtYmVyO1xuICBnYW1ld2VlazogbnVtYmVyO1xuICBjdXJyZW50X2Ftb3VudDogbnVtYmVyO1xuICBzdGFydGluZ19hbW91bnQ6IG51bWJlcjsgLy8gU2kgZnJvbSBhZG1pbiBjb25maWdcbiAgaXNfYWN0aXZlOiBib29sZWFuO1xuICBjcmVhdGVkX2F0OiBEYXRlO1xuICB1cGRhdGVkX2F0OiBEYXRlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNjb3JlU3RyaWtlV2lubmVyIHtcbiAgaWQ/OiBudW1iZXI7XG4gIGZwbGxlYWd1ZV9pZDogbnVtYmVyO1xuICBnYW1ld2VlazogbnVtYmVyO1xuICBmaXh0dXJlX2lkOiBudW1iZXI7XG4gIG1hbmFnZXJfZW1haWw6IHN0cmluZztcbiAgbWFuYWdlcl9mcGxpZDogbnVtYmVyO1xuICBtYW5hZ2VyX3Njcm5hbWU6IHN0cmluZztcbiAgaG9tZV9nb2FsOiBudW1iZXI7XG4gIGF3YXlfZ29hbDogbnVtYmVyO1xuICBwbGF5ZXJfbmFtZTogc3RyaW5nO1xuICB3b25fYW1vdW50OiBudW1iZXI7XG4gIHdvbl9hdDogRGF0ZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBZG1pbkNvbmZpZyB7XG4gIGlkPzogbnVtYmVyO1xuICBtYW5hZ2VyRW50cnlGZWU6IG51bWJlcjtcbiAgdG90YWxNYW5hZ2VyczogbnVtYmVyO1xuICBwYXlvdXRTdHJ1Y3R1cmU6IHtcbiAgICB0b3AyMFdpbm5lcnM6IG51bWJlcltdO1xuICAgIHNjb3JlTlN0cmlrZTogbnVtYmVyO1xuICAgIHdlZWtseVdpbm5lcjogbnVtYmVyO1xuICAgIGNoaXBVc2FnZTogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcbiAgfTtcbiAgaXNDb25maXJtZWQ6IGJvb2xlYW47XG4gIHRpbWVzdGFtcDogRGF0ZTtcbiAgYWRtaW5JZDogbnVtYmVyO1xuICBsZWFndWVJZDogbnVtYmVyO1xuICB1cGRhdGVkQXQ/OiBEYXRlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExlYWd1ZUluZm8ge1xuICBpZD86IG51bWJlcjtcbiAgbGVhZ3VlSWQ6IG51bWJlcjtcbiAgbGVhZ3VlTmFtZTogc3RyaW5nO1xuICBsZWFndWVBZG1pbjogc3RyaW5nO1xuICBhZG1pbklkOiBudW1iZXI7XG4gIGlzQ3JlYXRlZDogYm9vbGVhbjtcbiAgY3JlYXRlZEF0OiBEYXRlO1xuICB1cGRhdGVkQXQ/OiBEYXRlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1hdGNoUmVzdWx0IHtcbiAgaWQ/OiBudW1iZXI7XG4gIGZpeHR1cmVJZDogbnVtYmVyO1xuICBnYW1ld2VlazogbnVtYmVyO1xuICBob21lVGVhbUlkOiBudW1iZXI7XG4gIGF3YXlUZWFtSWQ6IG51bWJlcjtcbiAgaG9tZVRlYW1OYW1lOiBzdHJpbmc7XG4gIGF3YXlUZWFtTmFtZTogc3RyaW5nO1xuICBob21lU2NvcmU6IG51bWJlcjtcbiAgYXdheVNjb3JlOiBudW1iZXI7XG4gIGtpY2tvZmZUaW1lOiBzdHJpbmc7XG4gIGZpbmlzaGVkOiBib29sZWFuO1xuICBzdGFydGVkOiBib29sZWFuO1xuICBsYXN0VXBkYXRlZDogRGF0ZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHb2Fsc2NvcmVyIHtcbiAgaWQ/OiBudW1iZXI7XG4gIG1hdGNoUmVzdWx0SWQ6IG51bWJlcjtcbiAgcGxheWVySWQ6IG51bWJlcjtcbiAgcGxheWVyTmFtZTogc3RyaW5nO1xuICB0ZWFtSWQ6IG51bWJlcjtcbiAgdGVhbU5hbWU6IHN0cmluZztcbiAgZ29hbHM6IG51bWJlcjtcbiAgaXNIb21lVGVhbTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNYXRjaERhdGEge1xuICBtYXRjaFJlc3VsdDogTWF0Y2hSZXN1bHQ7XG4gIGdvYWxzY29yZXJzOiBHb2Fsc2NvcmVyW107XG59XG5cbmNsYXNzIEZQTERhdGFiYXNlIGV4dGVuZHMgRGV4aWUge1xuICB1c2VycyE6IFRhYmxlPFVzZXI+O1xuICBwcmVkaWN0aW9ucyE6IFRhYmxlPFByZWRpY3Rpb24+O1xuICBnYW1ld2Vla1N1bW1hcmllcyE6IFRhYmxlPEdhbWV3ZWVrU3VtbWFyeT47XG4gIGxlYWd1ZVN0YW5kaW5ncyE6IFRhYmxlPExlYWd1ZVN0YW5kaW5nPjtcbiAgc2NvcmVTdHJpa2VFbnRyaWVzITogVGFibGU8U2NvcmVTdHJpa2VFbnRyeT47XG4gIHNjb3JlU3RyaWtlUG90cyE6IFRhYmxlPFNjb3JlU3RyaWtlUG90PjtcbiAgc2NvcmVTdHJpa2VXaW5uZXJzITogVGFibGU8U2NvcmVTdHJpa2VXaW5uZXI+O1xuICBhZG1pbkNvbmZpZ3MhOiBUYWJsZTxBZG1pbkNvbmZpZz47XG4gIGxlYWd1ZUluZm9zITogVGFibGU8TGVhZ3VlSW5mbz47XG4gIG1hdGNoUmVzdWx0cyE6IFRhYmxlPE1hdGNoUmVzdWx0PjtcbiAgZ29hbHNjb3JlcnMhOiBUYWJsZTxHb2Fsc2NvcmVyPjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignRlBMRGF0YWJhc2UnKTtcbiAgICB0aGlzLnZlcnNpb24oMTApLnN0b3Jlcyh7XG4gICAgICB1c2VyczogJysraWQsIHVpZCwgZW1haWwnLFxuICAgICAgcHJlZGljdGlvbnM6ICcrK2lkLCB1c2VySWQsIGdhbWV3ZWVrLCBbdXNlcklkK2dhbWV3ZWVrXSwgc3VibWl0dGVkQXQnLFxuICAgICAgZ2FtZXdlZWtTdW1tYXJpZXM6ICcrK2lkLCBnYW1ld2VlaywgaXNBY3RpdmUnLFxuICAgICAgbGVhZ3VlU3RhbmRpbmdzOiAnKytpZCwgdXNlcklkLCBnYW1ld2VlaywgW3VzZXJJZCtnYW1ld2Vla10sIHJhbmsnLFxuICAgICAgc2NvcmVTdHJpa2VFbnRyaWVzOiAnKytpZCwgZnBsbGVhZ3VlX2lkLCBtYW5hZ2VyX2VtYWlsLCBtYW5hZ2VyX2ZwbGlkLCBtYW5hZ2VyX3Njcm5hbWUsIGZpeHR1cmVfaWQsIGdhbWV3ZWVrLCBbbWFuYWdlcl9lbWFpbCtmaXh0dXJlX2lkK2dhbWV3ZWVrXSwgc3VibWl0dGVkX3RpbWVzdGFtcCcsXG4gICAgICBzY29yZVN0cmlrZVBvdHM6ICcrK2lkLCBmcGxsZWFndWVfaWQsIGdhbWV3ZWVrLCBpc19hY3RpdmUsIFtmcGxsZWFndWVfaWQrZ2FtZXdlZWtdJyxcbiAgICAgIHNjb3JlU3RyaWtlV2lubmVyczogJysraWQsIGZwbGxlYWd1ZV9pZCwgZ2FtZXdlZWssIGZpeHR1cmVfaWQsIG1hbmFnZXJfZW1haWwsIFtmcGxsZWFndWVfaWQrZ2FtZXdlZWtdJyxcbiAgICAgIGFkbWluQ29uZmlnczogJysraWQsIGFkbWluSWQsIHRpbWVzdGFtcCwgaXNDb25maXJtZWQsIGxlYWd1ZUlkLCB1cGRhdGVkQXQnLFxuICAgICAgbGVhZ3VlSW5mb3M6ICcrK2lkLCBsZWFndWVJZCwgbGVhZ3VlTmFtZSwgbGVhZ3VlQWRtaW4sIGFkbWluSWQsIGlzQ3JlYXRlZCwgY3JlYXRlZEF0LCB1cGRhdGVkQXQnLFxuICAgICAgbWF0Y2hSZXN1bHRzOiAnKytpZCwgZml4dHVyZUlkLCBnYW1ld2VlaywgaG9tZVRlYW1JZCwgYXdheVRlYW1JZCwgW2dhbWV3ZWVrK2ZpeHR1cmVJZF0nLFxuICAgICAgZ29hbHNjb3JlcnM6ICcrK2lkLCBtYXRjaFJlc3VsdElkLCBwbGF5ZXJJZCwgdGVhbUlkJ1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBkYiA9IG5ldyBGUExEYXRhYmFzZSgpO1xuXG4vLyBEYXRhYmFzZSB1dGlsaXR5IGZ1bmN0aW9uc1xuZXhwb3J0IGNvbnN0IGRiVXRpbHMgPSB7XG4gIC8vIFVzZXIgb3BlcmF0aW9uc1xuICBhc3luYyBzYXZlVXNlcih1c2VyOiBVc2VyKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBkYi51c2Vycy53aGVyZSgndWlkJykuZXF1YWxzKHVzZXIudWlkKS5maXJzdCgpO1xuICAgIGlmIChleGlzdGluZ1VzZXIpIHtcbiAgICAgIHJldHVybiBhd2FpdCBkYi51c2Vycy51cGRhdGUoZXhpc3RpbmdVc2VyLmlkISwgeyAuLi51c2VyLCB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkgfSk7XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCBkYi51c2Vycy5hZGQodXNlcikgYXMgbnVtYmVyO1xuICB9LFxuXG4gIGFzeW5jIGdldFVzZXIodWlkOiBzdHJpbmcpOiBQcm9taXNlPFVzZXIgfCB1bmRlZmluZWQ+IHtcbiAgICByZXR1cm4gYXdhaXQgZGIudXNlcnMud2hlcmUoJ3VpZCcpLmVxdWFscyh1aWQpLmZpcnN0KCk7XG4gIH0sXG5cbiAgLy8gUHJlZGljdGlvbiBvcGVyYXRpb25zXG4gIGFzeW5jIHNhdmVQcmVkaWN0aW9uKHByZWRpY3Rpb246IFByZWRpY3Rpb24pOiBQcm9taXNlPG51bWJlcj4ge1xuICAgIHJldHVybiBhd2FpdCBkYi5wcmVkaWN0aW9ucy5hZGQocHJlZGljdGlvbikgYXMgbnVtYmVyO1xuICB9LFxuXG4gIGFzeW5jIGdldFByZWRpY3Rpb25zQnlVc2VyKHVzZXJJZDogc3RyaW5nLCBnYW1ld2Vlaz86IG51bWJlcik6IFByb21pc2U8UHJlZGljdGlvbltdPiB7XG4gICAgaWYgKGdhbWV3ZWVrKSB7XG4gICAgICByZXR1cm4gYXdhaXQgZGIucHJlZGljdGlvbnMud2hlcmUoJ1t1c2VySWQrZ2FtZXdlZWtdJykuZXF1YWxzKFt1c2VySWQsIGdhbWV3ZWVrXSkudG9BcnJheSgpO1xuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgZGIucHJlZGljdGlvbnMud2hlcmUoJ3VzZXJJZCcpLmVxdWFscyh1c2VySWQpLnRvQXJyYXkoKTtcbiAgfSxcblxuICBhc3luYyBnZXRQcmVkaWN0aW9uc0J5R2FtZXdlZWsoZ2FtZXdlZWs6IG51bWJlcik6IFByb21pc2U8UHJlZGljdGlvbltdPiB7XG4gICAgcmV0dXJuIGF3YWl0IGRiLnByZWRpY3Rpb25zLndoZXJlKCdnYW1ld2VlaycpLmVxdWFscyhnYW1ld2VlaykudG9BcnJheSgpO1xuICB9LFxuXG4gIC8vIEdhbWV3ZWVrIG9wZXJhdGlvbnNcbiAgYXN5bmMgc2F2ZUdhbWV3ZWVrU3VtbWFyeShzdW1tYXJ5OiBHYW1ld2Vla1N1bW1hcnkpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgIGNvbnN0IGV4aXN0aW5nID0gYXdhaXQgZGIuZ2FtZXdlZWtTdW1tYXJpZXMud2hlcmUoJ2dhbWV3ZWVrJykuZXF1YWxzKHN1bW1hcnkuZ2FtZXdlZWspLmZpcnN0KCk7XG4gICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICByZXR1cm4gYXdhaXQgZGIuZ2FtZXdlZWtTdW1tYXJpZXMudXBkYXRlKGV4aXN0aW5nLmlkISwgc3VtbWFyeSk7XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCBkYi5nYW1ld2Vla1N1bW1hcmllcy5hZGQoc3VtbWFyeSkgYXMgbnVtYmVyO1xuICB9LFxuXG4gIGFzeW5jIGdldEFjdGl2ZUdhbWV3ZWVrKCk6IFByb21pc2U8R2FtZXdlZWtTdW1tYXJ5IHwgdW5kZWZpbmVkPiB7XG4gICAgcmV0dXJuIGF3YWl0IGRiLmdhbWV3ZWVrU3VtbWFyaWVzLmZpbHRlcihnYW1ld2VlayA9PiBnYW1ld2Vlay5pc0FjdGl2ZSkuZmlyc3QoKTtcbiAgfSxcblxuICAvLyBMZWFndWUgc3RhbmRpbmdzIG9wZXJhdGlvbnNcbiAgYXN5bmMgc2F2ZUxlYWd1ZVN0YW5kaW5nKHN0YW5kaW5nOiBMZWFndWVTdGFuZGluZyk6IFByb21pc2U8bnVtYmVyPiB7XG4gICAgY29uc3QgZXhpc3RpbmcgPSBhd2FpdCBkYi5sZWFndWVTdGFuZGluZ3NcbiAgICAgIC53aGVyZSgnW3VzZXJJZCtnYW1ld2Vla10nKVxuICAgICAgLmVxdWFscyhbc3RhbmRpbmcudXNlcklkLCBzdGFuZGluZy5nYW1ld2Vla10pXG4gICAgICAuZmlyc3QoKTtcbiAgICBcbiAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgIHJldHVybiBhd2FpdCBkYi5sZWFndWVTdGFuZGluZ3MudXBkYXRlKGV4aXN0aW5nLmlkISwgc3RhbmRpbmcpO1xuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgZGIubGVhZ3VlU3RhbmRpbmdzLmFkZChzdGFuZGluZykgYXMgbnVtYmVyO1xuICB9LFxuXG4gIGFzeW5jIGdldExlYWd1ZVN0YW5kaW5ncyhnYW1ld2Vlaz86IG51bWJlcik6IFByb21pc2U8TGVhZ3VlU3RhbmRpbmdbXT4ge1xuICAgIGlmIChnYW1ld2Vlaykge1xuICAgICAgcmV0dXJuIGF3YWl0IGRiLmxlYWd1ZVN0YW5kaW5ncy53aGVyZSgnZ2FtZXdlZWsnKS5lcXVhbHMoZ2FtZXdlZWspLnRvQXJyYXkoKTtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IGRiLmxlYWd1ZVN0YW5kaW5ncy50b0FycmF5KCk7XG4gIH0sXG5cbiAgLy8gU2NvcmUgYW5kIFN0cmlrZSBFbnRyaWVzIG9wZXJhdGlvbnNcbiAgYXN5bmMgc2F2ZVNjb3JlU3RyaWtlRW50cnkoZW50cnk6IFNjb3JlU3RyaWtlRW50cnkpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgIC8vIENoZWNrIGlmIHRoZXJlJ3MgYW4gZXhpc3RpbmcgZW50cnkgZm9yIHRoaXMgbWFuYWdlciwgZml4dHVyZSwgYW5kIGdhbWV3ZWVrXG4gICAgY29uc3QgZXhpc3RpbmdFbnRyeSA9IGF3YWl0IGRiLnNjb3JlU3RyaWtlRW50cmllc1xuICAgICAgLndoZXJlKFsnbWFuYWdlcl9lbWFpbCcsICdmaXh0dXJlX2lkJywgJ2dhbWV3ZWVrJ10pXG4gICAgICAuZXF1YWxzKFtlbnRyeS5tYW5hZ2VyX2VtYWlsLCBlbnRyeS5maXh0dXJlX2lkLCBlbnRyeS5nYW1ld2Vla10pXG4gICAgICAuZmlyc3QoKTtcbiAgICBcbiAgICBpZiAoZXhpc3RpbmdFbnRyeSkge1xuICAgICAgLy8gVXBkYXRlIGV4aXN0aW5nIGVudHJ5IChvbmx5IG1vc3QgcmVjZW50IGVudHJ5IGlzIGtlcHQpXG4gICAgICByZXR1cm4gYXdhaXQgZGIuc2NvcmVTdHJpa2VFbnRyaWVzLnVwZGF0ZShleGlzdGluZ0VudHJ5LmlkISwge1xuICAgICAgICAuLi5lbnRyeSxcbiAgICAgICAgc3VibWl0dGVkX3RpbWVzdGFtcDogbmV3IERhdGUoKVxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vIEFkZCBuZXcgZW50cnlcbiAgICByZXR1cm4gYXdhaXQgZGIuc2NvcmVTdHJpa2VFbnRyaWVzLmFkZChlbnRyeSkgYXMgbnVtYmVyO1xuICB9LFxuXG4gIGFzeW5jIGdldFNjb3JlU3RyaWtlRW50cmllc0J5TWFuYWdlcihtYW5hZ2VyX2VtYWlsOiBzdHJpbmcpOiBQcm9taXNlPFNjb3JlU3RyaWtlRW50cnlbXT4ge1xuICAgIHJldHVybiBhd2FpdCBkYi5zY29yZVN0cmlrZUVudHJpZXMud2hlcmUoJ21hbmFnZXJfZW1haWwnKS5lcXVhbHMobWFuYWdlcl9lbWFpbCkudG9BcnJheSgpO1xuICB9LFxuXG4gIGFzeW5jIGdldFNjb3JlU3RyaWtlRW50cmllc0J5TGVhZ3VlKGZwbGxlYWd1ZV9pZDogbnVtYmVyKTogUHJvbWlzZTxTY29yZVN0cmlrZUVudHJ5W10+IHtcbiAgICByZXR1cm4gYXdhaXQgZGIuc2NvcmVTdHJpa2VFbnRyaWVzLndoZXJlKCdmcGxsZWFndWVfaWQnKS5lcXVhbHMoZnBsbGVhZ3VlX2lkKS50b0FycmF5KCk7XG4gIH0sXG5cbiAgYXN5bmMgZ2V0U2NvcmVTdHJpa2VFbnRyaWVzQnlNYW5hZ2VyQW5kTGVhZ3VlKG1hbmFnZXJfZW1haWw6IHN0cmluZywgZnBsbGVhZ3VlX2lkOiBudW1iZXIpOiBQcm9taXNlPFNjb3JlU3RyaWtlRW50cnlbXT4ge1xuICAgIHJldHVybiBhd2FpdCBkYi5zY29yZVN0cmlrZUVudHJpZXNcbiAgICAgIC53aGVyZShbJ21hbmFnZXJfZW1haWwnLCAnZnBsbGVhZ3VlX2lkJ10pXG4gICAgICAuZXF1YWxzKFttYW5hZ2VyX2VtYWlsLCBmcGxsZWFndWVfaWRdKVxuICAgICAgLnRvQXJyYXkoKTtcbiAgfSxcblxuICBhc3luYyBnZXRTY29yZVN0cmlrZUVudHJpZXNCeUZpeHR1cmUoZml4dHVyZV9pZDogbnVtYmVyLCBnYW1ld2VlazogbnVtYmVyKTogUHJvbWlzZTxTY29yZVN0cmlrZUVudHJ5W10+IHtcbiAgICByZXR1cm4gYXdhaXQgZGIuc2NvcmVTdHJpa2VFbnRyaWVzXG4gICAgICAud2hlcmUoWydmaXh0dXJlX2lkJywgJ2dhbWV3ZWVrJ10pXG4gICAgICAuZXF1YWxzKFtmaXh0dXJlX2lkLCBnYW1ld2Vla10pXG4gICAgICAudG9BcnJheSgpO1xuICB9LFxuXG4gIGFzeW5jIGdldFNjb3JlU3RyaWtlRW50cnlCeU1hbmFnZXJBbmRGaXh0dXJlKG1hbmFnZXJfZW1haWw6IHN0cmluZywgZml4dHVyZV9pZDogbnVtYmVyLCBnYW1ld2VlazogbnVtYmVyKTogUHJvbWlzZTxTY29yZVN0cmlrZUVudHJ5IHwgdW5kZWZpbmVkPiB7XG4gICAgcmV0dXJuIGF3YWl0IGRiLnNjb3JlU3RyaWtlRW50cmllc1xuICAgICAgLndoZXJlKFsnbWFuYWdlcl9lbWFpbCcsICdmaXh0dXJlX2lkJywgJ2dhbWV3ZWVrJ10pXG4gICAgICAuZXF1YWxzKFttYW5hZ2VyX2VtYWlsLCBmaXh0dXJlX2lkLCBnYW1ld2Vla10pXG4gICAgICAuZmlyc3QoKTtcbiAgfSxcblxuICBhc3luYyBnZXRBbGxTY29yZVN0cmlrZUVudHJpZXMoKTogUHJvbWlzZTxTY29yZVN0cmlrZUVudHJ5W10+IHtcbiAgICByZXR1cm4gYXdhaXQgZGIuc2NvcmVTdHJpa2VFbnRyaWVzLnRvQXJyYXkoKTtcbiAgfSxcblxuICAvLyBTY29yZSBhbmQgU3RyaWtlIFBvdCBvcGVyYXRpb25zXG4gIGFzeW5jIHNhdmVTY29yZVN0cmlrZVBvdChwb3Q6IFNjb3JlU3RyaWtlUG90KTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICBjb25zdCBleGlzdGluZ1BvdCA9IGF3YWl0IGRiLnNjb3JlU3RyaWtlUG90c1xuICAgICAgLndoZXJlKFsnZnBsbGVhZ3VlX2lkJywgJ2dhbWV3ZWVrJ10pXG4gICAgICAuZXF1YWxzKFtwb3QuZnBsbGVhZ3VlX2lkLCBwb3QuZ2FtZXdlZWtdKVxuICAgICAgLmZpcnN0KCk7XG4gICAgXG4gICAgaWYgKGV4aXN0aW5nUG90KSB7XG4gICAgICByZXR1cm4gYXdhaXQgZGIuc2NvcmVTdHJpa2VQb3RzLnVwZGF0ZShleGlzdGluZ1BvdC5pZCEsIHtcbiAgICAgICAgLi4ucG90LFxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpXG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGF3YWl0IGRiLnNjb3JlU3RyaWtlUG90cy5hZGQocG90KSBhcyBudW1iZXI7XG4gIH0sXG5cbiAgYXN5bmMgZ2V0U2NvcmVTdHJpa2VQb3QoZnBsbGVhZ3VlX2lkOiBudW1iZXIsIGdhbWV3ZWVrOiBudW1iZXIpOiBQcm9taXNlPFNjb3JlU3RyaWtlUG90IHwgdW5kZWZpbmVkPiB7XG4gICAgcmV0dXJuIGF3YWl0IGRiLnNjb3JlU3RyaWtlUG90c1xuICAgICAgLndoZXJlKFsnZnBsbGVhZ3VlX2lkJywgJ2dhbWV3ZWVrJ10pXG4gICAgICAuZXF1YWxzKFtmcGxsZWFndWVfaWQsIGdhbWV3ZWVrXSlcbiAgICAgIC5maXJzdCgpO1xuICB9LFxuXG4gIGFzeW5jIGdldEN1cnJlbnRTY29yZVN0cmlrZVBvdChmcGxsZWFndWVfaWQ6IG51bWJlcik6IFByb21pc2U8U2NvcmVTdHJpa2VQb3QgfCB1bmRlZmluZWQ+IHtcbiAgICByZXR1cm4gYXdhaXQgZGIuc2NvcmVTdHJpa2VQb3RzXG4gICAgICAud2hlcmUoJ2ZwbGxlYWd1ZV9pZCcpXG4gICAgICAuZXF1YWxzKGZwbGxlYWd1ZV9pZClcbiAgICAgIC5maWx0ZXIocG90ID0+IHBvdC5pc19hY3RpdmUpXG4gICAgICAuZmlyc3QoKTtcbiAgfSxcblxuICAvLyBTY29yZSBhbmQgU3RyaWtlIFdpbm5lciBvcGVyYXRpb25zXG4gIGFzeW5jIHNhdmVTY29yZVN0cmlrZVdpbm5lcih3aW5uZXI6IFNjb3JlU3RyaWtlV2lubmVyKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICByZXR1cm4gYXdhaXQgZGIuc2NvcmVTdHJpa2VXaW5uZXJzLmFkZCh3aW5uZXIpIGFzIG51bWJlcjtcbiAgfSxcblxuICBhc3luYyBnZXRTY29yZVN0cmlrZVdpbm5lcnNCeUdhbWV3ZWVrKGZwbGxlYWd1ZV9pZDogbnVtYmVyLCBnYW1ld2VlazogbnVtYmVyKTogUHJvbWlzZTxTY29yZVN0cmlrZVdpbm5lcltdPiB7XG4gICAgcmV0dXJuIGF3YWl0IGRiLnNjb3JlU3RyaWtlV2lubmVyc1xuICAgICAgLndoZXJlKFsnZnBsbGVhZ3VlX2lkJywgJ2dhbWV3ZWVrJ10pXG4gICAgICAuZXF1YWxzKFtmcGxsZWFndWVfaWQsIGdhbWV3ZWVrXSlcbiAgICAgIC50b0FycmF5KCk7XG4gIH0sXG5cbiAgYXN5bmMgZ2V0U2NvcmVTdHJpa2VXaW5uZXJzQnlGaXh0dXJlKGZpeHR1cmVfaWQ6IG51bWJlciwgZ2FtZXdlZWs6IG51bWJlcik6IFByb21pc2U8U2NvcmVTdHJpa2VXaW5uZXJbXT4ge1xuICAgIHJldHVybiBhd2FpdCBkYi5zY29yZVN0cmlrZVdpbm5lcnNcbiAgICAgIC53aGVyZShbJ2ZpeHR1cmVfaWQnLCAnZ2FtZXdlZWsnXSlcbiAgICAgIC5lcXVhbHMoW2ZpeHR1cmVfaWQsIGdhbWV3ZWVrXSlcbiAgICAgIC50b0FycmF5KCk7XG4gIH0sXG5cbiAgLy8gR2V0IGFsbCBTY29yZSBhbmQgU3RyaWtlIHdpbm5lcnMgZm9yIGEgc3BlY2lmaWMgZ2FtZXdlZWsgd2l0aCBwb3QgZGlzdHJpYnV0aW9uXG4gIGFzeW5jIGdldFNjb3JlU3RyaWtlV2lubmVyc0J5R2FtZXdlZWtXaXRoUG90RGlzdHJpYnV0aW9uKGZwbGxlYWd1ZV9pZDogbnVtYmVyLCBnYW1ld2VlazogbnVtYmVyKTogUHJvbWlzZTx7XG4gICAgd2lubmVyczogU2NvcmVTdHJpa2VXaW5uZXJbXTtcbiAgICB0b3RhbFdpbm5lcnM6IG51bWJlcjtcbiAgICBwb3RBbW91bnQ6IG51bWJlcjtcbiAgICBhbW91bnRQZXJXaW5uZXI6IG51bWJlcjtcbiAgfT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgYWxsIHdpbm5lcnMgZm9yIHRoaXMgZ2FtZXdlZWtcbiAgICAgIGNvbnN0IHdpbm5lcnMgPSBhd2FpdCB0aGlzLmdldFNjb3JlU3RyaWtlV2lubmVyc0J5R2FtZXdlZWsoZnBsbGVhZ3VlX2lkLCBnYW1ld2Vlayk7XG4gICAgICBcbiAgICAgIGlmICh3aW5uZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHdpbm5lcnM6IFtdLFxuICAgICAgICAgIHRvdGFsV2lubmVyczogMCxcbiAgICAgICAgICBwb3RBbW91bnQ6IDAsXG4gICAgICAgICAgYW1vdW50UGVyV2lubmVyOiAwXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIC8vIEdldCB0aGUgcG90IGFtb3VudCBmb3IgdGhpcyBnYW1ld2Vla1xuICAgICAgY29uc3QgcG90ID0gYXdhaXQgdGhpcy5nZXRTY29yZVN0cmlrZVBvdChmcGxsZWFndWVfaWQsIGdhbWV3ZWVrKTtcbiAgICAgIGNvbnN0IHBvdEFtb3VudCA9IHBvdD8uY3VycmVudF9hbW91bnQgfHwgMDtcblxuICAgICAgLy8gQ2FsY3VsYXRlIGFtb3VudCBwZXIgd2lubmVyIChwb3QgZGl2aWRlZCBieSBudW1iZXIgb2Ygd2lubmVycylcbiAgICAgIGNvbnN0IHRvdGFsV2lubmVycyA9IHdpbm5lcnMubGVuZ3RoO1xuICAgICAgY29uc3QgYW1vdW50UGVyV2lubmVyID0gdG90YWxXaW5uZXJzID4gMCA/IHBvdEFtb3VudCAvIHRvdGFsV2lubmVycyA6IDA7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdpbm5lcnMsXG4gICAgICAgIHRvdGFsV2lubmVycyxcbiAgICAgICAgcG90QW1vdW50LFxuICAgICAgICBhbW91bnRQZXJXaW5uZXJcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgU2NvcmUgYW5kIFN0cmlrZSB3aW5uZXJzIHdpdGggcG90IGRpc3RyaWJ1dGlvbjonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB3aW5uZXJzOiBbXSxcbiAgICAgICAgdG90YWxXaW5uZXJzOiAwLFxuICAgICAgICBwb3RBbW91bnQ6IDAsXG4gICAgICAgIGFtb3VudFBlcldpbm5lcjogMFxuICAgICAgfTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gQWRtaW4gQ29uZmlndXJhdGlvbiBvcGVyYXRpb25zXG4gIGFzeW5jIHNhdmVBZG1pbkNvbmZpZyhjb25maWc6IEFkbWluQ29uZmlnKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICByZXR1cm4gYXdhaXQgZGIuYWRtaW5Db25maWdzLmFkZChjb25maWcpIGFzIG51bWJlcjtcbiAgfSxcblxuICBhc3luYyBnZXRMYXRlc3RBZG1pbkNvbmZpZygpOiBQcm9taXNlPEFkbWluQ29uZmlnIHwgdW5kZWZpbmVkPiB7XG4gICAgcmV0dXJuIGF3YWl0IGRiLmFkbWluQ29uZmlnc1xuICAgICAgLm9yZGVyQnkoJ3RpbWVzdGFtcCcpXG4gICAgICAucmV2ZXJzZSgpXG4gICAgICAuZmlyc3QoKTtcbiAgfSxcblxuICBhc3luYyBnZXRBZG1pbkNvbmZpZ3NCeUFkbWluKGFkbWluSWQ6IG51bWJlcik6IFByb21pc2U8QWRtaW5Db25maWdbXT4ge1xuICAgIGNvbnN0IGNvbmZpZ3MgPSBhd2FpdCBkYi5hZG1pbkNvbmZpZ3NcbiAgICAgIC53aGVyZSgnYWRtaW5JZCcpXG4gICAgICAuZXF1YWxzKGFkbWluSWQpXG4gICAgICAudG9BcnJheSgpO1xuICAgIHJldHVybiBjb25maWdzLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGIudGltZXN0YW1wKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShhLnRpbWVzdGFtcCkuZ2V0VGltZSgpKTtcbiAgfSxcblxuICBhc3luYyBnZXRBbGxBZG1pbkNvbmZpZ3MoKTogUHJvbWlzZTxBZG1pbkNvbmZpZ1tdPiB7XG4gICAgY29uc3QgY29uZmlncyA9IGF3YWl0IGRiLmFkbWluQ29uZmlncy50b0FycmF5KCk7XG4gICAgcmV0dXJuIGNvbmZpZ3Muc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYi50aW1lc3RhbXApLmdldFRpbWUoKSAtIG5ldyBEYXRlKGEudGltZXN0YW1wKS5nZXRUaW1lKCkpO1xuICB9LFxuXG4gIC8vIExlYWd1ZSBJbmZvIG9wZXJhdGlvbnNcbiAgYXN5bmMgc2F2ZUxlYWd1ZUluZm8obGVhZ3VlSW5mbzogTGVhZ3VlSW5mbyk6IFByb21pc2U8bnVtYmVyPiB7XG4gICAgY29uc3QgZXhpc3RpbmdMZWFndWUgPSBhd2FpdCBkYi5sZWFndWVJbmZvcy53aGVyZSgnbGVhZ3VlSWQnKS5lcXVhbHMobGVhZ3VlSW5mby5sZWFndWVJZCkuZmlyc3QoKTtcbiAgICBpZiAoZXhpc3RpbmdMZWFndWUpIHtcbiAgICAgIHJldHVybiBhd2FpdCBkYi5sZWFndWVJbmZvcy51cGRhdGUoZXhpc3RpbmdMZWFndWUuaWQhLCB7IC4uLmxlYWd1ZUluZm8sIHVwZGF0ZWRBdDogbmV3IERhdGUoKSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IGRiLmxlYWd1ZUluZm9zLmFkZChsZWFndWVJbmZvKSBhcyBudW1iZXI7XG4gIH0sXG5cbiAgYXN5bmMgZ2V0TGVhZ3VlSW5mbyhsZWFndWVJZDogbnVtYmVyKTogUHJvbWlzZTxMZWFndWVJbmZvIHwgdW5kZWZpbmVkPiB7XG4gICAgcmV0dXJuIGF3YWl0IGRiLmxlYWd1ZUluZm9zLndoZXJlKCdsZWFndWVJZCcpLmVxdWFscyhsZWFndWVJZCkuZmlyc3QoKTtcbiAgfSxcblxuICBhc3luYyBnZXRBbGxMZWFndWVJbmZvcygpOiBQcm9taXNlPExlYWd1ZUluZm9bXT4ge1xuICAgIGNvbnN0IGxlYWd1ZXMgPSBhd2FpdCBkYi5sZWFndWVJbmZvcy50b0FycmF5KCk7XG4gICAgcmV0dXJuIGxlYWd1ZXMuc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYi5jcmVhdGVkQXQpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGEuY3JlYXRlZEF0KS5nZXRUaW1lKCkpO1xuICB9LFxuXG4gIGFzeW5jIGdldENyZWF0ZWRMZWFndWVzKCk6IFByb21pc2U8TGVhZ3VlSW5mb1tdPiB7XG4gICAgcmV0dXJuIGF3YWl0IGRiLmxlYWd1ZUluZm9zLmZpbHRlcihsZWFndWUgPT4gbGVhZ3VlLmlzQ3JlYXRlZCkudG9BcnJheSgpO1xuICB9LFxuXG4gIGFzeW5jIHVwZGF0ZUxlYWd1ZUNyZWF0ZWRTdGF0dXMobGVhZ3VlSWQ6IG51bWJlciwgaXNDcmVhdGVkOiBib29sZWFuKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgbGVhZ3VlID0gYXdhaXQgZGIubGVhZ3VlSW5mb3Mud2hlcmUoJ2xlYWd1ZUlkJykuZXF1YWxzKGxlYWd1ZUlkKS5maXJzdCgpO1xuICAgIGlmIChsZWFndWUpIHtcbiAgICAgIGF3YWl0IGRiLmxlYWd1ZUluZm9zLnVwZGF0ZShsZWFndWUuaWQhLCB7IGlzQ3JlYXRlZCwgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpIH0pO1xuICAgIH1cbiAgfSxcblxuICAvLyBNYXRjaCBSZXN1bHQgb3BlcmF0aW9uc1xuICBhc3luYyBzYXZlTWF0Y2hSZXN1bHQobWF0Y2hSZXN1bHQ6IE1hdGNoUmVzdWx0KTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICBjb25zdCBleGlzdGluZyA9IGF3YWl0IGRiLm1hdGNoUmVzdWx0c1xuICAgICAgLndoZXJlKCdbZ2FtZXdlZWsrZml4dHVyZUlkXScpXG4gICAgICAuZXF1YWxzKFttYXRjaFJlc3VsdC5nYW1ld2VlaywgbWF0Y2hSZXN1bHQuZml4dHVyZUlkXSlcbiAgICAgIC5maXJzdCgpO1xuICAgIFxuICAgIGlmIChleGlzdGluZykge1xuICAgICAgcmV0dXJuIGF3YWl0IGRiLm1hdGNoUmVzdWx0cy51cGRhdGUoZXhpc3RpbmcuaWQhLCB7IC4uLm1hdGNoUmVzdWx0LCBsYXN0VXBkYXRlZDogbmV3IERhdGUoKSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IGRiLm1hdGNoUmVzdWx0cy5hZGQobWF0Y2hSZXN1bHQpIGFzIG51bWJlcjtcbiAgfSxcblxuICBhc3luYyBnZXRNYXRjaFJlc3VsdHNCeUdhbWV3ZWVrKGdhbWV3ZWVrOiBudW1iZXIpOiBQcm9taXNlPE1hdGNoUmVzdWx0W10+IHtcbiAgICByZXR1cm4gYXdhaXQgZGIubWF0Y2hSZXN1bHRzLndoZXJlKCdnYW1ld2VlaycpLmVxdWFscyhnYW1ld2VlaykudG9BcnJheSgpO1xuICB9LFxuXG4gIGFzeW5jIGdldE1hdGNoUmVzdWx0QnlGaXh0dXJlKGZpeHR1cmVJZDogbnVtYmVyKTogUHJvbWlzZTxNYXRjaFJlc3VsdCB8IHVuZGVmaW5lZD4ge1xuICAgIHJldHVybiBhd2FpdCBkYi5tYXRjaFJlc3VsdHMud2hlcmUoJ2ZpeHR1cmVJZCcpLmVxdWFscyhmaXh0dXJlSWQpLmZpcnN0KCk7XG4gIH0sXG5cbiAgYXN5bmMgZ2V0QWxsTWF0Y2hSZXN1bHRzKCk6IFByb21pc2U8TWF0Y2hSZXN1bHRbXT4ge1xuICAgIHJldHVybiBhd2FpdCBkYi5tYXRjaFJlc3VsdHMudG9BcnJheSgpO1xuICB9LFxuXG4gIC8vIEdvYWxzY29yZXIgb3BlcmF0aW9uc1xuICBhc3luYyBzYXZlR29hbHNjb3Jlcihnb2Fsc2NvcmVyOiBHb2Fsc2NvcmVyKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICByZXR1cm4gYXdhaXQgZGIuZ29hbHNjb3JlcnMuYWRkKGdvYWxzY29yZXIpIGFzIG51bWJlcjtcbiAgfSxcblxuICBhc3luYyBnZXRHb2Fsc2NvcmVyc0J5TWF0Y2gobWF0Y2hSZXN1bHRJZDogbnVtYmVyKTogUHJvbWlzZTxHb2Fsc2NvcmVyW10+IHtcbiAgICByZXR1cm4gYXdhaXQgZGIuZ29hbHNjb3JlcnMud2hlcmUoJ21hdGNoUmVzdWx0SWQnKS5lcXVhbHMobWF0Y2hSZXN1bHRJZCkudG9BcnJheSgpO1xuICB9LFxuXG4gIGFzeW5jIGdldEdvYWxzY29yZXJzQnlHYW1ld2VlayhnYW1ld2VlazogbnVtYmVyKTogUHJvbWlzZTxHb2Fsc2NvcmVyW10+IHtcbiAgICBjb25zdCBtYXRjaFJlc3VsdHMgPSBhd2FpdCB0aGlzLmdldE1hdGNoUmVzdWx0c0J5R2FtZXdlZWsoZ2FtZXdlZWspO1xuICAgIGNvbnN0IG1hdGNoSWRzID0gbWF0Y2hSZXN1bHRzLm1hcChtYXRjaCA9PiBtYXRjaC5pZCEpO1xuICAgIHJldHVybiBhd2FpdCBkYi5nb2Fsc2NvcmVycy53aGVyZSgnbWF0Y2hSZXN1bHRJZCcpLmFueU9mKG1hdGNoSWRzKS50b0FycmF5KCk7XG4gIH0sXG5cbiAgYXN5bmMgc2F2ZU1hdGNoRGF0YShtYXRjaERhdGE6IE1hdGNoRGF0YSk6IFByb21pc2U8eyBtYXRjaFJlc3VsdElkOiBudW1iZXI7IGdvYWxzY29yZXJJZHM6IG51bWJlcltdIH0+IHtcbiAgICAvLyBTYXZlIG1hdGNoIHJlc3VsdCBmaXJzdFxuICAgIGNvbnN0IG1hdGNoUmVzdWx0SWQgPSBhd2FpdCB0aGlzLnNhdmVNYXRjaFJlc3VsdChtYXRjaERhdGEubWF0Y2hSZXN1bHQpO1xuICAgIFxuICAgIC8vIFNhdmUgZ29hbHNjb3JlcnNcbiAgICBjb25zdCBnb2Fsc2NvcmVySWRzOiBudW1iZXJbXSA9IFtdO1xuICAgIGZvciAoY29uc3QgZ29hbHNjb3JlciBvZiBtYXRjaERhdGEuZ29hbHNjb3JlcnMpIHtcbiAgICAgIGdvYWxzY29yZXIubWF0Y2hSZXN1bHRJZCA9IG1hdGNoUmVzdWx0SWQ7XG4gICAgICBjb25zdCBnb2Fsc2NvcmVySWQgPSBhd2FpdCB0aGlzLnNhdmVHb2Fsc2NvcmVyKGdvYWxzY29yZXIpO1xuICAgICAgZ29hbHNjb3Jlcklkcy5wdXNoKGdvYWxzY29yZXJJZCk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7IG1hdGNoUmVzdWx0SWQsIGdvYWxzY29yZXJJZHMgfTtcbiAgfSxcblxuICAvLyBVdGlsaXR5IGZ1bmN0aW9uc1xuICBhc3luYyBjbGVhck9sZERhdGEob2xkZXJUaGFuRGF5czogbnVtYmVyID0gMzApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBjdXRvZmZEYXRlID0gbmV3IERhdGUoKTtcbiAgICBjdXRvZmZEYXRlLnNldERhdGUoY3V0b2ZmRGF0ZS5nZXREYXRlKCkgLSBvbGRlclRoYW5EYXlzKTtcbiAgICBcbiAgICBhd2FpdCBkYi5wcmVkaWN0aW9uc1xuICAgICAgLndoZXJlKCdzdWJtaXR0ZWRBdCcpXG4gICAgICAuYmVsb3coY3V0b2ZmRGF0ZSlcbiAgICAgIC5kZWxldGUoKTtcbiAgfSxcblxuICAvLyBGdW5jdGlvbiB0byBjbGVhciBhbGwgZGF0YWJhc2UgZGF0YSAodXNlZnVsIGZvciB2ZXJzaW9uIGNvbmZsaWN0cylcbiAgYXN5bmMgY2xlYXJBbGxEYXRhKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnNvbGUubG9nKCfwn5eR77iPIENsZWFyaW5nIGFsbCBkYXRhYmFzZSBkYXRhLi4uJyk7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGRiLnRyYW5zYWN0aW9uKCdydycsIFtcbiAgICAgICAgZGIudXNlcnMsIFxuICAgICAgICBkYi5wcmVkaWN0aW9ucywgXG4gICAgICAgIGRiLmdhbWV3ZWVrU3VtbWFyaWVzLCBcbiAgICAgICAgZGIubGVhZ3VlU3RhbmRpbmdzLCBcbiAgICAgICAgZGIuc2NvcmVTdHJpa2VFbnRyaWVzLCBcbiAgICAgICAgZGIuc2NvcmVTdHJpa2VQb3RzLFxuICAgICAgICBkYi5zY29yZVN0cmlrZVdpbm5lcnMsXG4gICAgICAgIGRiLmFkbWluQ29uZmlncyxcbiAgICAgICAgZGIubGVhZ3VlSW5mb3MsXG4gICAgICAgIGRiLm1hdGNoUmVzdWx0cyxcbiAgICAgICAgZGIuZ29hbHNjb3JlcnNcbiAgICAgIF0sIGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgZGIudXNlcnMuY2xlYXIoKTtcbiAgICAgICAgYXdhaXQgZGIucHJlZGljdGlvbnMuY2xlYXIoKTtcbiAgICAgICAgYXdhaXQgZGIuZ2FtZXdlZWtTdW1tYXJpZXMuY2xlYXIoKTtcbiAgICAgICAgYXdhaXQgZGIubGVhZ3VlU3RhbmRpbmdzLmNsZWFyKCk7XG4gICAgICAgIGF3YWl0IGRiLnNjb3JlU3RyaWtlRW50cmllcy5jbGVhcigpO1xuICAgICAgICBhd2FpdCBkYi5zY29yZVN0cmlrZVBvdHMuY2xlYXIoKTtcbiAgICAgICAgYXdhaXQgZGIuc2NvcmVTdHJpa2VXaW5uZXJzLmNsZWFyKCk7XG4gICAgICAgIGF3YWl0IGRiLmFkbWluQ29uZmlncy5jbGVhcigpO1xuICAgICAgICBhd2FpdCBkYi5sZWFndWVJbmZvcy5jbGVhcigpO1xuICAgICAgICBhd2FpdCBkYi5tYXRjaFJlc3VsdHMuY2xlYXIoKTtcbiAgICAgICAgYXdhaXQgZGIuZ29hbHNjb3JlcnMuY2xlYXIoKTtcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coJ+KchSBEYXRhYmFzZSBkYXRhIGNsZWFyZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBjbGVhcmluZyBkYXRhYmFzZSBkYXRhOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfSxcblxuICAvLyBGdW5jdGlvbiB0byBkZWxldGUgdGhlIGVudGlyZSBkYXRhYmFzZSAobnVjbGVhciBvcHRpb24gZm9yIHZlcnNpb24gY29uZmxpY3RzKVxuICBhc3luYyBkZWxldGVEYXRhYmFzZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zb2xlLmxvZygn8J+SpSBEZWxldGluZyBlbnRpcmUgZGF0YWJhc2UuLi4nKTtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZGIuZGVsZXRlKCk7XG4gICAgICBjb25zb2xlLmxvZygn4pyFIERhdGFiYXNlIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBkZWxldGluZyBkYXRhYmFzZTonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbn07ICJdLCJuYW1lcyI6WyJEZXhpZSIsIkZQTERhdGFiYXNlIiwiY29uc3RydWN0b3IiLCJ2ZXJzaW9uIiwic3RvcmVzIiwidXNlcnMiLCJwcmVkaWN0aW9ucyIsImdhbWV3ZWVrU3VtbWFyaWVzIiwibGVhZ3VlU3RhbmRpbmdzIiwic2NvcmVTdHJpa2VFbnRyaWVzIiwic2NvcmVTdHJpa2VQb3RzIiwic2NvcmVTdHJpa2VXaW5uZXJzIiwiYWRtaW5Db25maWdzIiwibGVhZ3VlSW5mb3MiLCJtYXRjaFJlc3VsdHMiLCJnb2Fsc2NvcmVycyIsImRiIiwiZGJVdGlscyIsInNhdmVVc2VyIiwidXNlciIsImV4aXN0aW5nVXNlciIsIndoZXJlIiwiZXF1YWxzIiwidWlkIiwiZmlyc3QiLCJ1cGRhdGUiLCJpZCIsInVwZGF0ZWRBdCIsIkRhdGUiLCJhZGQiLCJnZXRVc2VyIiwic2F2ZVByZWRpY3Rpb24iLCJwcmVkaWN0aW9uIiwiZ2V0UHJlZGljdGlvbnNCeVVzZXIiLCJ1c2VySWQiLCJnYW1ld2VlayIsInRvQXJyYXkiLCJnZXRQcmVkaWN0aW9uc0J5R2FtZXdlZWsiLCJzYXZlR2FtZXdlZWtTdW1tYXJ5Iiwic3VtbWFyeSIsImV4aXN0aW5nIiwiZ2V0QWN0aXZlR2FtZXdlZWsiLCJmaWx0ZXIiLCJpc0FjdGl2ZSIsInNhdmVMZWFndWVTdGFuZGluZyIsInN0YW5kaW5nIiwiZ2V0TGVhZ3VlU3RhbmRpbmdzIiwic2F2ZVNjb3JlU3RyaWtlRW50cnkiLCJlbnRyeSIsImV4aXN0aW5nRW50cnkiLCJtYW5hZ2VyX2VtYWlsIiwiZml4dHVyZV9pZCIsInN1Ym1pdHRlZF90aW1lc3RhbXAiLCJnZXRTY29yZVN0cmlrZUVudHJpZXNCeU1hbmFnZXIiLCJnZXRTY29yZVN0cmlrZUVudHJpZXNCeUxlYWd1ZSIsImZwbGxlYWd1ZV9pZCIsImdldFNjb3JlU3RyaWtlRW50cmllc0J5TWFuYWdlckFuZExlYWd1ZSIsImdldFNjb3JlU3RyaWtlRW50cmllc0J5Rml4dHVyZSIsImdldFNjb3JlU3RyaWtlRW50cnlCeU1hbmFnZXJBbmRGaXh0dXJlIiwiZ2V0QWxsU2NvcmVTdHJpa2VFbnRyaWVzIiwic2F2ZVNjb3JlU3RyaWtlUG90IiwicG90IiwiZXhpc3RpbmdQb3QiLCJ1cGRhdGVkX2F0IiwiZ2V0U2NvcmVTdHJpa2VQb3QiLCJnZXRDdXJyZW50U2NvcmVTdHJpa2VQb3QiLCJpc19hY3RpdmUiLCJzYXZlU2NvcmVTdHJpa2VXaW5uZXIiLCJ3aW5uZXIiLCJnZXRTY29yZVN0cmlrZVdpbm5lcnNCeUdhbWV3ZWVrIiwiZ2V0U2NvcmVTdHJpa2VXaW5uZXJzQnlGaXh0dXJlIiwiZ2V0U2NvcmVTdHJpa2VXaW5uZXJzQnlHYW1ld2Vla1dpdGhQb3REaXN0cmlidXRpb24iLCJ3aW5uZXJzIiwibGVuZ3RoIiwidG90YWxXaW5uZXJzIiwicG90QW1vdW50IiwiYW1vdW50UGVyV2lubmVyIiwiY3VycmVudF9hbW91bnQiLCJlcnJvciIsImNvbnNvbGUiLCJzYXZlQWRtaW5Db25maWciLCJjb25maWciLCJnZXRMYXRlc3RBZG1pbkNvbmZpZyIsIm9yZGVyQnkiLCJyZXZlcnNlIiwiZ2V0QWRtaW5Db25maWdzQnlBZG1pbiIsImFkbWluSWQiLCJjb25maWdzIiwic29ydCIsImEiLCJiIiwidGltZXN0YW1wIiwiZ2V0VGltZSIsImdldEFsbEFkbWluQ29uZmlncyIsInNhdmVMZWFndWVJbmZvIiwibGVhZ3VlSW5mbyIsImV4aXN0aW5nTGVhZ3VlIiwibGVhZ3VlSWQiLCJnZXRMZWFndWVJbmZvIiwiZ2V0QWxsTGVhZ3VlSW5mb3MiLCJsZWFndWVzIiwiY3JlYXRlZEF0IiwiZ2V0Q3JlYXRlZExlYWd1ZXMiLCJsZWFndWUiLCJpc0NyZWF0ZWQiLCJ1cGRhdGVMZWFndWVDcmVhdGVkU3RhdHVzIiwic2F2ZU1hdGNoUmVzdWx0IiwibWF0Y2hSZXN1bHQiLCJmaXh0dXJlSWQiLCJsYXN0VXBkYXRlZCIsImdldE1hdGNoUmVzdWx0c0J5R2FtZXdlZWsiLCJnZXRNYXRjaFJlc3VsdEJ5Rml4dHVyZSIsImdldEFsbE1hdGNoUmVzdWx0cyIsInNhdmVHb2Fsc2NvcmVyIiwiZ29hbHNjb3JlciIsImdldEdvYWxzY29yZXJzQnlNYXRjaCIsIm1hdGNoUmVzdWx0SWQiLCJnZXRHb2Fsc2NvcmVyc0J5R2FtZXdlZWsiLCJtYXRjaElkcyIsIm1hcCIsIm1hdGNoIiwiYW55T2YiLCJzYXZlTWF0Y2hEYXRhIiwibWF0Y2hEYXRhIiwiZ29hbHNjb3JlcklkcyIsImdvYWxzY29yZXJJZCIsInB1c2giLCJjbGVhck9sZERhdGEiLCJvbGRlclRoYW5EYXlzIiwiY3V0b2ZmRGF0ZSIsInNldERhdGUiLCJnZXREYXRlIiwiYmVsb3ciLCJkZWxldGUiLCJjbGVhckFsbERhdGEiLCJsb2ciLCJ0cmFuc2FjdGlvbiIsImNsZWFyIiwiZGVsZXRlRGF0YWJhc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/database.ts\n");

/***/ })

};
;