"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_rsc_lib_fpl-api_ts";
exports.ids = ["_rsc_lib_fpl-api_ts"];
exports.modules = {

/***/ "(rsc)/./lib/fpl-api.ts":
/*!************************!*\
  !*** ./lib/fpl-api.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fplApi: () => (/* binding */ fplApi)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/lib/axios.js\");\n\n// League configuration\nconst LEAGUE_ID = 607394; // Ordinary Gentlemen League\nclass FPLApiService {\n    constructor(){\n        this.cache = new Map();\n        this.CACHE_DURATION = 5 * 60 * 1000 // 5 minutes\n        ;\n    }\n    static getInstance() {\n        if (!FPLApiService.instance) {\n            FPLApiService.instance = new FPLApiService();\n        }\n        return FPLApiService.instance;\n    }\n    async makeRequest(endpoint) {\n        // Check if we're in test mode with mock API enabled\n        if (false) {}\n        const cacheKey = endpoint;\n        const cached = this.cache.get(cacheKey);\n        if (cached && Date.now() - cached.timestamp < this.CACHE_DURATION) {\n            return cached.data;\n        }\n        try {\n            // Use Next.js API route to avoid CORS issues\n            const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`/api/fpl?endpoint=${encodeURIComponent(endpoint)}`);\n            this.cache.set(cacheKey, {\n                data: response.data,\n                timestamp: Date.now()\n            });\n            return response.data;\n        } catch (error) {\n            console.error(`FPL API Error for ${endpoint}:`, error);\n            throw error;\n        }\n    }\n    getMockData(endpoint) {\n        console.log(`üß™ Using mock data for endpoint: ${endpoint}`);\n        // Return mock data based on endpoint\n        if (endpoint.includes(\"/leagues-classic/\") && endpoint.includes(\"/standings/\")) {\n            return Promise.resolve({\n                league: {\n                    id: 607394,\n                    name: \"League of Ordinary Gentlemen\",\n                    admin_entry: 607394,\n                    short_name: \"LOG\",\n                    scoring: \"c\"\n                },\n                new_entries: {\n                    results: [\n                        {\n                            id: 1,\n                            entry: 607394,\n                            entry_name: \"Test Admin Team\",\n                            player_first_name: \"Test\",\n                            player_last_name: \"Admin\",\n                            rank: 1,\n                            total: 2000\n                        },\n                        {\n                            id: 2,\n                            entry: 3098228,\n                            entry_name: \"Test User Team\",\n                            player_first_name: \"Test\",\n                            player_last_name: \"User\",\n                            rank: 2,\n                            total: 1900\n                        }\n                    ]\n                }\n            });\n        }\n        if (endpoint === \"/bootstrap-static/\") {\n            return Promise.resolve({\n                events: [\n                    {\n                        id: 1,\n                        name: \"Gameweek 1\",\n                        deadline_time: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(),\n                        finished: false,\n                        is_current: true\n                    }\n                ],\n                teams: [\n                    {\n                        id: 1,\n                        name: \"Arsenal\",\n                        short_name: \"ARS\"\n                    },\n                    {\n                        id: 2,\n                        name: \"Chelsea\",\n                        short_name: \"CHE\"\n                    },\n                    {\n                        id: 3,\n                        name: \"Liverpool\",\n                        short_name: \"LIV\"\n                    }\n                ],\n                elements: [\n                    {\n                        id: 1,\n                        first_name: \"Mo\",\n                        second_name: \"Salah\",\n                        web_name: \"Salah\",\n                        team: 3\n                    },\n                    {\n                        id: 2,\n                        first_name: \"Erling\",\n                        second_name: \"Haaland\",\n                        web_name: \"Haaland\",\n                        team: 1\n                    }\n                ],\n                chips: [\n                    {\n                        name: \"wildcard\",\n                        start_event: 1,\n                        stop_event: 19\n                    },\n                    {\n                        name: \"bboost\",\n                        start_event: 1,\n                        stop_event: 38\n                    },\n                    {\n                        name: \"3xc\",\n                        start_event: 1,\n                        stop_event: 38\n                    },\n                    {\n                        name: \"freehit\",\n                        start_event: 1,\n                        stop_event: 38\n                    }\n                ]\n            });\n        }\n        if (endpoint === \"/fixtures/\") {\n            return Promise.resolve([\n                {\n                    id: 1,\n                    code: 1234567,\n                    event: 1,\n                    finished: false,\n                    team_a: 1,\n                    team_h: 2,\n                    team_a_score: null,\n                    team_h_score: null\n                }\n            ]);\n        }\n        // Default empty response\n        return Promise.resolve({});\n    }\n    // Get all teams\n    async getTeams() {\n        const data = await this.makeRequest(\"/bootstrap-static/\");\n        return data.teams;\n    }\n    // Get all players\n    async getPlayers() {\n        const data = await this.makeRequest(\"/bootstrap-static/\");\n        return data.elements;\n    }\n    // Get element types (positions)\n    async getElementTypes() {\n        const data = await this.makeRequest(\"/bootstrap-static/\");\n        return data.element_types;\n    }\n    // Get all bootstrap data at once (players, teams, element types)\n    async getBootstrapData() {\n        return await this.makeRequest(\"/bootstrap-static/\");\n    }\n    // Get current gameweek\n    async getCurrentGameweek() {\n        const data = await this.makeRequest(\"/bootstrap-static/\");\n        return data.events.find((event)=>event.is_current) || null;\n    }\n    // Get all gameweeks\n    async getGameweeks() {\n        const data = await this.makeRequest(\"/bootstrap-static/\");\n        return data.events;\n    }\n    // Get fixtures for a specific gameweek\n    async getFixtures(gameweek) {\n        try {\n            console.log(\"\\uD83D\\uDD0D Fetching fixtures from FPL API...\");\n            const fixtures = await this.makeRequest(\"/fixtures/\");\n            console.log(`üìä Found ${fixtures.length} total fixtures`);\n            if (gameweek) {\n                const filteredFixtures = fixtures.filter((fixture)=>fixture.event === gameweek);\n                console.log(`üìä Found ${filteredFixtures.length} fixtures for gameweek ${gameweek}`);\n                return filteredFixtures;\n            }\n            return fixtures;\n        } catch (error) {\n            console.error(\"‚ùå Error fetching fixtures:\", error);\n            return [];\n        }\n    }\n    // Get league standings for a specific league\n    async getLeagueStandings(leagueId) {\n        const targetLeagueId = leagueId || LEAGUE_ID;\n        return await this.makeRequest(`/leagues-classic/${targetLeagueId}/standings/`);\n    }\n    // Get manager FPL ID by email from league standings\n    async getManagerFplIdByEmail(leagueId, email) {\n        try {\n            console.log(`üîç Looking for manager with email: ${email} in league ${leagueId}`);\n            // Get league standings\n            const standings = await this.getLeagueStandings(leagueId);\n            const managers = standings.standings?.results || [];\n            // Look for manager with matching email\n            // Note: FPL API doesn't expose emails directly, so we need to match by other criteria\n            // For now, we'll use a simple approach - you may need to implement a more sophisticated matching\n            // Try to find by common patterns or use a mapping approach\n            // This is a placeholder implementation - you'll need to adjust based on your specific needs\n            console.log(`üìä Found ${managers.length} managers in league`);\n            // For now, return null - you'll need to implement the actual email matching logic\n            // based on how you want to match emails to manager IDs\n            return null;\n        } catch (error) {\n            console.error(\"Error getting manager FPL ID by email:\", error);\n            return null;\n        }\n    }\n    // Get manager's team (requires manager ID)\n    async getManagerTeam(managerId) {\n        return await this.makeRequest(`/entry/${managerId}/`);\n    }\n    // Get manager's team for specific gameweek\n    async getManagerTeamForGameweek(managerId, gameweek) {\n        return await this.makeRequest(`/entry/${managerId}/event/${gameweek}/picks/`);\n    }\n    // Get chip usage for all managers in the league\n    async getChipUsage() {\n        try {\n            // Get league standings to get all manager IDs\n            const leagueData = await this.getLeagueStandings();\n            const managers = leagueData.standings.results || [];\n            const chipUsage = [];\n            const gameweeks = await this.getGameweeks();\n            const finishedGameweeks = gameweeks.filter((gw)=>gw.finished).slice(-6); // Last 6 gameweeks\n            // Process each manager\n            for (const manager of managers.slice(0, 10)){\n                const managerId = manager.entry;\n                const managerName = `${manager.player_first_name} ${manager.player_last_name}`;\n                const teamName = manager.entry_name;\n                // Check each finished gameweek for chip usage\n                for (const gameweek of finishedGameweeks){\n                    try {\n                        const teamData = await this.getManagerTeamForGameweek(managerId, gameweek.id);\n                        if (teamData && teamData.active_chip) {\n                            const chipType = teamData.active_chip;\n                            const chipName = this.getChipDisplayName(chipType, gameweek.id);\n                            chipUsage.push({\n                                managerId,\n                                managerName,\n                                teamName,\n                                gameweek: gameweek.id,\n                                chipType,\n                                chipName,\n                                points: teamData.entry_history?.points || 0,\n                                rank: manager.rank\n                            });\n                        }\n                    } catch (error) {\n                        console.warn(`Failed to get team data for manager ${managerId} in GW ${gameweek.id}:`, error);\n                    }\n                }\n            }\n            return chipUsage;\n        } catch (error) {\n            console.error(\"Error fetching chip usage:\", error);\n            throw error;\n        }\n    }\n    // Get chip winners for each chip type\n    async getChipWinners() {\n        try {\n            const chipUsage = await this.getChipUsage();\n            const chipWinners = {};\n            // Group chip usage by chip type\n            const chipUsageByType = {};\n            chipUsage.forEach((usage)=>{\n                if (!chipUsageByType[usage.chipType]) {\n                    chipUsageByType[usage.chipType] = [];\n                }\n                chipUsageByType[usage.chipType].push(usage);\n            });\n            // For each chip type, find the winner(s) with highest points\n            for (const [chipType, usages] of Object.entries(chipUsageByType)){\n                if (!chipWinners[chipType]) {\n                    chipWinners[chipType] = [];\n                }\n                // Group by gameweek to handle multiple gameweeks\n                const usageByGameweek = {};\n                usages.forEach((usage)=>{\n                    if (!usageByGameweek[usage.gameweek]) {\n                        usageByGameweek[usage.gameweek] = [];\n                    }\n                    usageByGameweek[usage.gameweek].push(usage);\n                });\n                // Find winners for each gameweek\n                for (const [gameweek, gameweekUsages] of Object.entries(usageByGameweek)){\n                    const maxPoints = Math.max(...gameweekUsages.map((u)=>u.points));\n                    const winners = gameweekUsages.filter((u)=>u.points === maxPoints);\n                    winners.forEach((winner)=>{\n                        chipWinners[chipType].push({\n                            gameweek: winner.gameweek,\n                            managerId: winner.managerId,\n                            managerName: winner.managerName,\n                            points: winner.points,\n                            chipName: winner.chipName\n                        });\n                    });\n                }\n            }\n            return chipWinners;\n        } catch (error) {\n            console.error(\"Error getting chip winners:\", error);\n            throw error;\n        }\n    }\n    // Fetch and store match data for a specific gameweek\n    async fetchAndStoreMatchData(gameweek) {\n        try {\n            console.log(`üîç Fetching match data for gameweek ${gameweek}...`);\n            // Fetch fixtures for the gameweek\n            const fixtures = await this.getFixtures(gameweek);\n            if (fixtures.length === 0) {\n                console.log(`‚ö†Ô∏è No fixtures found for gameweek ${gameweek}`);\n                return [];\n            }\n            // Fetch bootstrap data for team and player mapping\n            const bootstrapData = await this.getBootstrapData();\n            const teamMap = new Map(bootstrapData.teams.map((team)=>[\n                    team.id,\n                    team.name\n                ]));\n            const playerMap = new Map(bootstrapData.elements.map((player)=>[\n                    player.id,\n                    player.web_name\n                ]));\n            const matchDataArray = [];\n            for (const fixture of fixtures){\n                const matchData = this.processFixtureData(fixture, teamMap, playerMap);\n                if (matchData) {\n                    matchDataArray.push(matchData);\n                }\n            }\n            console.log(`‚úÖ Processed ${matchDataArray.length} matches for gameweek ${gameweek}`);\n            return matchDataArray;\n        } catch (error) {\n            console.error(`‚ùå Error fetching match data for gameweek ${gameweek}:`, error);\n            throw error;\n        }\n    }\n    // Process individual fixture data\n    processFixtureData(fixture, teamMap, playerMap) {\n        try {\n            const homeTeamName = teamMap.get(fixture.team_h) || `Team ${fixture.team_h}`;\n            const awayTeamName = teamMap.get(fixture.team_a) || `Team ${fixture.team_a}`;\n            // Create match result\n            const matchResult = {\n                fixtureId: fixture.id,\n                gameweek: fixture.event,\n                homeTeamId: fixture.team_h,\n                awayTeamId: fixture.team_a,\n                homeTeamName,\n                awayTeamName,\n                homeScore: fixture.team_h_score || 0,\n                awayScore: fixture.team_a_score || 0,\n                kickoffTime: fixture.kickoff_time,\n                finished: fixture.finished,\n                started: fixture.started,\n                lastUpdated: new Date()\n            };\n            // Extract goalscorers from stats\n            const goalscorers = [];\n            const goalsScored = fixture.stats?.find((stat)=>stat.identifier === \"goals_scored\");\n            if (goalsScored) {\n                // Process home team goalscorers\n                if (goalsScored.h) {\n                    for (const playerStat of goalsScored.h){\n                        const playerName = playerMap.get(playerStat.element) || `Player ${playerStat.element}`;\n                        goalscorers.push({\n                            matchResultId: 0,\n                            playerId: playerStat.element,\n                            playerName,\n                            teamId: fixture.team_h,\n                            teamName: homeTeamName,\n                            goals: playerStat.value,\n                            isHomeTeam: true\n                        });\n                    }\n                }\n                // Process away team goalscorers\n                if (goalsScored.a) {\n                    for (const playerStat of goalsScored.a){\n                        const playerName = playerMap.get(playerStat.element) || `Player ${playerStat.element}`;\n                        goalscorers.push({\n                            matchResultId: 0,\n                            playerId: playerStat.element,\n                            playerName,\n                            teamId: fixture.team_a,\n                            teamName: awayTeamName,\n                            goals: playerStat.value,\n                            isHomeTeam: false\n                        });\n                    }\n                }\n            }\n            return {\n                matchResult,\n                goalscorers\n            };\n        } catch (error) {\n            console.error(`‚ùå Error processing fixture ${fixture.id}:`, error);\n            return null;\n        }\n    }\n    // Get match data for a specific gameweek (from database)\n    async getMatchDataForGameweek(gameweek) {\n        try {\n            const { dbUtils } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/dexie\"), __webpack_require__.e(\"_rsc_lib_database_ts\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./database */ \"(rsc)/./lib/database.ts\"));\n            const matchResults = await dbUtils.getMatchResultsByGameweek(gameweek);\n            const matchDataArray = [];\n            for (const matchResult of matchResults){\n                const goalscorers = await dbUtils.getGoalscorersByMatch(matchResult.id);\n                matchDataArray.push({\n                    matchResult,\n                    goalscorers\n                });\n            }\n            return matchDataArray;\n        } catch (error) {\n            console.error(`‚ùå Error getting match data for gameweek ${gameweek}:`, error);\n            throw error;\n        }\n    }\n    // Store match data in database\n    async storeMatchData(matchDataArray) {\n        try {\n            const { dbUtils } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/dexie\"), __webpack_require__.e(\"_rsc_lib_database_ts\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./database */ \"(rsc)/./lib/database.ts\"));\n            for (const matchData of matchDataArray){\n                await dbUtils.saveMatchData(matchData);\n            }\n            console.log(`‚úÖ Stored ${matchDataArray.length} match records in database`);\n        } catch (error) {\n            console.error(\"‚ùå Error storing match data:\", error);\n            throw error;\n        }\n    }\n    // Complete workflow: fetch, process, and store match data\n    async fetchProcessAndStoreMatchData(gameweek) {\n        try {\n            console.log(`üöÄ Starting complete workflow for gameweek ${gameweek}...`);\n            // Fetch and process match data\n            const matchDataArray = await this.fetchAndStoreMatchData(gameweek);\n            if (matchDataArray.length > 0) {\n                // Store in database\n                await this.storeMatchData(matchDataArray);\n                console.log(`‚úÖ Successfully processed and stored match data for gameweek ${gameweek}`);\n            } else {\n                console.log(`‚ö†Ô∏è No match data to store for gameweek ${gameweek}`);\n            }\n        } catch (error) {\n            console.error(`‚ùå Error in complete workflow for gameweek ${gameweek}:`, error);\n            throw error;\n        }\n    }\n    // Helper method to get chip display name\n    getChipDisplayName(chipType, gameweek) {\n        const chipNames = {\n            \"bboost\": \"Bench Boost\",\n            \"freehit\": \"Free Hit\",\n            \"wildcard\": \"Wildcard\",\n            \"3xc\": \"Triple Captain\"\n        };\n        const baseName = chipNames[chipType] || chipType;\n        return `${baseName} ${gameweek <= 19 ? \"I\" : \"II\"}`;\n    }\n    // Get league ID\n    getLeagueId() {\n        return LEAGUE_ID;\n    }\n    // Clear cache\n    clearCache() {\n        this.cache.clear();\n    }\n}\nconst fplApi = FPLApiService.getInstance();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWM7SUFDZDhLLGFBQW1CO1FBQ2pCLElBQUksQ0FBQzVLLEtBQUssQ0FBQzZLLEtBQUs7SUFDbEI7QUFDRjtBQUVPLE1BQU1DLFNBQVMvSyxjQUFjSSxXQUFXLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmRpbmFyeS1nZW50bGVtZW4vLi9saWIvZnBsLWFwaS50cz85MzMxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5cbi8vIExlYWd1ZSBjb25maWd1cmF0aW9uXG5jb25zdCBMRUFHVUVfSUQgPSA2MDczOTQ7IC8vIE9yZGluYXJ5IEdlbnRsZW1lbiBMZWFndWVcblxuZXhwb3J0IGludGVyZmFjZSBGUExUZWFtIHtcbiAgaWQ6IG51bWJlcjtcbiAgbmFtZTogc3RyaW5nO1xuICBzaG9ydF9uYW1lOiBzdHJpbmc7XG4gIHN0cmVuZ3RoOiBudW1iZXI7XG4gIHN0cmVuZ3RoX292ZXJhbGxfaG9tZTogbnVtYmVyO1xuICBzdHJlbmd0aF9vdmVyYWxsX2F3YXk6IG51bWJlcjtcbiAgc3RyZW5ndGhfYXR0YWNrX2hvbWU6IG51bWJlcjtcbiAgc3RyZW5ndGhfYXR0YWNrX2F3YXk6IG51bWJlcjtcbiAgc3RyZW5ndGhfZGVmZW5jZV9ob21lOiBudW1iZXI7XG4gIHN0cmVuZ3RoX2RlZmVuY2VfYXdheTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZQTFBsYXllciB7XG4gIGlkOiBudW1iZXI7XG4gIGZpcnN0X25hbWU6IHN0cmluZztcbiAgc2Vjb25kX25hbWU6IHN0cmluZztcbiAgd2ViX25hbWU6IHN0cmluZztcbiAgdGVhbTogbnVtYmVyO1xuICBlbGVtZW50X3R5cGU6IG51bWJlcjtcbiAgbm93X2Nvc3Q6IG51bWJlcjtcbiAgdG90YWxfcG9pbnRzOiBudW1iZXI7XG4gIGZvcm06IHN0cmluZztcbiAgcG9pbnRzX3Blcl9nYW1lOiBzdHJpbmc7XG4gIHNlbGVjdGVkX2J5X3BlcmNlbnQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGUExHYW1ld2VlayB7XG4gIGlkOiBudW1iZXI7XG4gIG5hbWU6IHN0cmluZztcbiAgZGVhZGxpbmVfdGltZTogc3RyaW5nO1xuICBhdmVyYWdlX2VudHJ5X3Njb3JlOiBudW1iZXI7XG4gIGZpbmlzaGVkOiBib29sZWFuO1xuICBkYXRhX2NoZWNrZWQ6IGJvb2xlYW47XG4gIGhpZ2hlc3Rfc2NvcmluZ19lbnRyeTogbnVtYmVyO1xuICBpc19wcmV2aW91czogYm9vbGVhbjtcbiAgaXNfY3VycmVudDogYm9vbGVhbjtcbiAgaXNfbmV4dDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGUExGaXh0dXJlIHtcbiAgaWQ6IG51bWJlcjtcbiAgZXZlbnQ6IG51bWJlcjtcbiAgZmluaXNoZWQ6IGJvb2xlYW47XG4gIGZpbmlzaGVkX3Byb3Zpc2lvbmFsOiBib29sZWFuO1xuICBraWNrb2ZmX3RpbWU6IHN0cmluZztcbiAgbWludXRlczogbnVtYmVyO1xuICBwcm92aXNpb25hbF9zdGFydF90aW1lOiBib29sZWFuO1xuICBzdGFydGVkOiBib29sZWFuO1xuICB0ZWFtX2E6IG51bWJlcjtcbiAgdGVhbV9hX3Njb3JlOiBudW1iZXI7XG4gIHRlYW1faDogbnVtYmVyO1xuICB0ZWFtX2hfc2NvcmU6IG51bWJlcjtcbiAgc3RhdHM6IGFueVtdO1xuICB0ZWFtX2hfZGlmZmljdWx0eTogbnVtYmVyO1xuICB0ZWFtX2FfZGlmZmljdWx0eTogbnVtYmVyO1xuICBwdWxzZV9pZDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENoaXBVc2FnZSB7XG4gIG1hbmFnZXJJZDogbnVtYmVyO1xuICBtYW5hZ2VyTmFtZTogc3RyaW5nO1xuICB0ZWFtTmFtZTogc3RyaW5nO1xuICBnYW1ld2VlazogbnVtYmVyO1xuICBjaGlwVHlwZTogJ2Jib29zdCcgfCAnZnJlZWhpdCcgfCAnd2lsZGNhcmQnIHwgJzN4Yyc7XG4gIGNoaXBOYW1lOiBzdHJpbmc7XG4gIHBvaW50czogbnVtYmVyO1xuICByYW5rOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWF0Y2hSZXN1bHQge1xuICBmaXh0dXJlSWQ6IG51bWJlcjtcbiAgZ2FtZXdlZWs6IG51bWJlcjtcbiAgaG9tZVRlYW1JZDogbnVtYmVyO1xuICBhd2F5VGVhbUlkOiBudW1iZXI7XG4gIGhvbWVUZWFtTmFtZTogc3RyaW5nO1xuICBhd2F5VGVhbU5hbWU6IHN0cmluZztcbiAgaG9tZVNjb3JlOiBudW1iZXI7XG4gIGF3YXlTY29yZTogbnVtYmVyO1xuICBraWNrb2ZmVGltZTogc3RyaW5nO1xuICBmaW5pc2hlZDogYm9vbGVhbjtcbiAgc3RhcnRlZDogYm9vbGVhbjtcbiAgbGFzdFVwZGF0ZWQ6IERhdGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR29hbHNjb3JlciB7XG4gIG1hdGNoUmVzdWx0SWQ6IG51bWJlcjtcbiAgcGxheWVySWQ6IG51bWJlcjtcbiAgcGxheWVyTmFtZTogc3RyaW5nO1xuICB0ZWFtSWQ6IG51bWJlcjtcbiAgdGVhbU5hbWU6IHN0cmluZztcbiAgZ29hbHM6IG51bWJlcjtcbiAgaXNIb21lVGVhbTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNYXRjaERhdGEge1xuICBtYXRjaFJlc3VsdDogTWF0Y2hSZXN1bHQ7XG4gIGdvYWxzY29yZXJzOiBHb2Fsc2NvcmVyW107XG59XG5cbmNsYXNzIEZQTEFwaVNlcnZpY2Uge1xuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogRlBMQXBpU2VydmljZTtcbiAgcHJpdmF0ZSBjYWNoZTogTWFwPHN0cmluZywgeyBkYXRhOiBhbnk7IHRpbWVzdGFtcDogbnVtYmVyIH0+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIHJlYWRvbmx5IENBQ0hFX0RVUkFUSU9OID0gNSAqIDYwICogMTAwMDsgLy8gNSBtaW51dGVzXG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgc3RhdGljIGdldEluc3RhbmNlKCk6IEZQTEFwaVNlcnZpY2Uge1xuICAgIGlmICghRlBMQXBpU2VydmljZS5pbnN0YW5jZSkge1xuICAgICAgRlBMQXBpU2VydmljZS5pbnN0YW5jZSA9IG5ldyBGUExBcGlTZXJ2aWNlKCk7XG4gICAgfVxuICAgIHJldHVybiBGUExBcGlTZXJ2aWNlLmluc3RhbmNlO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBtYWtlUmVxdWVzdDxUPihlbmRwb2ludDogc3RyaW5nKTogUHJvbWlzZTxUPiB7XG4gICAgLy8gQ2hlY2sgaWYgd2UncmUgaW4gdGVzdCBtb2RlIHdpdGggbW9jayBBUEkgZW5hYmxlZFxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3QgaXNUZXN0TW9kZSA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcgfHwgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfVEVTVF9NT0RFID09PSAndHJ1ZSc7XG4gICAgICBjb25zdCBtb2NrQXBpRW5hYmxlZCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX01PQ0tfQVBJID09PSAndHJ1ZSc7XG4gICAgICBcbiAgICAgIGlmIChpc1Rlc3RNb2RlICYmIG1vY2tBcGlFbmFibGVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1vY2tEYXRhPFQ+KGVuZHBvaW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjYWNoZUtleSA9IGVuZHBvaW50O1xuICAgIGNvbnN0IGNhY2hlZCA9IHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KTtcbiAgICBcbiAgICBpZiAoY2FjaGVkICYmIERhdGUubm93KCkgLSBjYWNoZWQudGltZXN0YW1wIDwgdGhpcy5DQUNIRV9EVVJBVElPTikge1xuICAgICAgcmV0dXJuIGNhY2hlZC5kYXRhO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBVc2UgTmV4dC5qcyBBUEkgcm91dGUgdG8gYXZvaWQgQ09SUyBpc3N1ZXNcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGAvYXBpL2ZwbD9lbmRwb2ludD0ke2VuY29kZVVSSUNvbXBvbmVudChlbmRwb2ludCl9YCk7XG4gICAgICB0aGlzLmNhY2hlLnNldChjYWNoZUtleSwgeyBkYXRhOiByZXNwb25zZS5kYXRhLCB0aW1lc3RhbXA6IERhdGUubm93KCkgfSk7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgRlBMIEFQSSBFcnJvciBmb3IgJHtlbmRwb2ludH06YCwgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRNb2NrRGF0YTxUPihlbmRwb2ludDogc3RyaW5nKTogUHJvbWlzZTxUPiB7XG4gICAgY29uc29sZS5sb2coYPCfp6ogVXNpbmcgbW9jayBkYXRhIGZvciBlbmRwb2ludDogJHtlbmRwb2ludH1gKTtcbiAgICBcbiAgICAvLyBSZXR1cm4gbW9jayBkYXRhIGJhc2VkIG9uIGVuZHBvaW50XG4gICAgaWYgKGVuZHBvaW50LmluY2x1ZGVzKCcvbGVhZ3Vlcy1jbGFzc2ljLycpICYmIGVuZHBvaW50LmluY2x1ZGVzKCcvc3RhbmRpbmdzLycpKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgbGVhZ3VlOiB7XG4gICAgICAgICAgaWQ6IDYwNzM5NCxcbiAgICAgICAgICBuYW1lOiBcIkxlYWd1ZSBvZiBPcmRpbmFyeSBHZW50bGVtZW5cIixcbiAgICAgICAgICBhZG1pbl9lbnRyeTogNjA3Mzk0LCAvLyBNb2NrIGFkbWluIGVudHJ5XG4gICAgICAgICAgc2hvcnRfbmFtZTogXCJMT0dcIixcbiAgICAgICAgICBzY29yaW5nOiBcImNcIlxuICAgICAgICB9LFxuICAgICAgICBuZXdfZW50cmllczoge1xuICAgICAgICAgIHJlc3VsdHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6IDEsXG4gICAgICAgICAgICAgIGVudHJ5OiA2MDczOTQsXG4gICAgICAgICAgICAgIGVudHJ5X25hbWU6IFwiVGVzdCBBZG1pbiBUZWFtXCIsXG4gICAgICAgICAgICAgIHBsYXllcl9maXJzdF9uYW1lOiBcIlRlc3RcIixcbiAgICAgICAgICAgICAgcGxheWVyX2xhc3RfbmFtZTogXCJBZG1pblwiLFxuICAgICAgICAgICAgICByYW5rOiAxLFxuICAgICAgICAgICAgICB0b3RhbDogMjAwMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6IDIsXG4gICAgICAgICAgICAgIGVudHJ5OiAzMDk4MjI4LFxuICAgICAgICAgICAgICBlbnRyeV9uYW1lOiBcIlRlc3QgVXNlciBUZWFtXCIsXG4gICAgICAgICAgICAgIHBsYXllcl9maXJzdF9uYW1lOiBcIlRlc3RcIixcbiAgICAgICAgICAgICAgcGxheWVyX2xhc3RfbmFtZTogXCJVc2VyXCIsXG4gICAgICAgICAgICAgIHJhbms6IDIsXG4gICAgICAgICAgICAgIHRvdGFsOiAxOTAwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9XG4gICAgICB9IGFzIFQpO1xuICAgIH1cbiAgICBcbiAgICBpZiAoZW5kcG9pbnQgPT09ICcvYm9vdHN0cmFwLXN0YXRpYy8nKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgZXZlbnRzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6IDEsXG4gICAgICAgICAgICBuYW1lOiBcIkdhbWV3ZWVrIDFcIixcbiAgICAgICAgICAgIGRlYWRsaW5lX3RpbWU6IG5ldyBEYXRlKERhdGUubm93KCkgKyAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgZmluaXNoZWQ6IGZhbHNlLFxuICAgICAgICAgICAgaXNfY3VycmVudDogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgdGVhbXM6IFtcbiAgICAgICAgICB7IGlkOiAxLCBuYW1lOiBcIkFyc2VuYWxcIiwgc2hvcnRfbmFtZTogXCJBUlNcIiB9LFxuICAgICAgICAgIHsgaWQ6IDIsIG5hbWU6IFwiQ2hlbHNlYVwiLCBzaG9ydF9uYW1lOiBcIkNIRVwiIH0sXG4gICAgICAgICAgeyBpZDogMywgbmFtZTogXCJMaXZlcnBvb2xcIiwgc2hvcnRfbmFtZTogXCJMSVZcIiB9XG4gICAgICAgIF0sXG4gICAgICAgIGVsZW1lbnRzOiBbXG4gICAgICAgICAgeyBpZDogMSwgZmlyc3RfbmFtZTogXCJNb1wiLCBzZWNvbmRfbmFtZTogXCJTYWxhaFwiLCB3ZWJfbmFtZTogXCJTYWxhaFwiLCB0ZWFtOiAzIH0sXG4gICAgICAgICAgeyBpZDogMiwgZmlyc3RfbmFtZTogXCJFcmxpbmdcIiwgc2Vjb25kX25hbWU6IFwiSGFhbGFuZFwiLCB3ZWJfbmFtZTogXCJIYWFsYW5kXCIsIHRlYW06IDEgfVxuICAgICAgICBdLFxuICAgICAgICBjaGlwczogW1xuICAgICAgICAgIHsgbmFtZTogXCJ3aWxkY2FyZFwiLCBzdGFydF9ldmVudDogMSwgc3RvcF9ldmVudDogMTkgfSxcbiAgICAgICAgICB7IG5hbWU6IFwiYmJvb3N0XCIsIHN0YXJ0X2V2ZW50OiAxLCBzdG9wX2V2ZW50OiAzOCB9LFxuICAgICAgICAgIHsgbmFtZTogXCIzeGNcIiwgc3RhcnRfZXZlbnQ6IDEsIHN0b3BfZXZlbnQ6IDM4IH0sXG4gICAgICAgICAgeyBuYW1lOiBcImZyZWVoaXRcIiwgc3RhcnRfZXZlbnQ6IDEsIHN0b3BfZXZlbnQ6IDM4IH1cbiAgICAgICAgXVxuICAgICAgfSBhcyBUKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKGVuZHBvaW50ID09PSAnL2ZpeHR1cmVzLycpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6IDEsXG4gICAgICAgICAgY29kZTogMTIzNDU2NyxcbiAgICAgICAgICBldmVudDogMSxcbiAgICAgICAgICBmaW5pc2hlZDogZmFsc2UsXG4gICAgICAgICAgdGVhbV9hOiAxLFxuICAgICAgICAgIHRlYW1faDogMixcbiAgICAgICAgICB0ZWFtX2Ffc2NvcmU6IG51bGwsXG4gICAgICAgICAgdGVhbV9oX3Njb3JlOiBudWxsXG4gICAgICAgIH1cbiAgICAgIF0gYXMgVCk7XG4gICAgfVxuICAgIFxuICAgIC8vIERlZmF1bHQgZW1wdHkgcmVzcG9uc2VcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHt9IGFzIFQpO1xuICB9XG5cbiAgLy8gR2V0IGFsbCB0ZWFtc1xuICBhc3luYyBnZXRUZWFtcygpOiBQcm9taXNlPEZQTFRlYW1bXT4ge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0PGFueT4oJy9ib290c3RyYXAtc3RhdGljLycpO1xuICAgIHJldHVybiBkYXRhLnRlYW1zO1xuICB9XG5cbiAgLy8gR2V0IGFsbCBwbGF5ZXJzXG4gIGFzeW5jIGdldFBsYXllcnMoKTogUHJvbWlzZTxGUExQbGF5ZXJbXT4ge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0PGFueT4oJy9ib290c3RyYXAtc3RhdGljLycpO1xuICAgIHJldHVybiBkYXRhLmVsZW1lbnRzO1xuICB9XG5cbiAgLy8gR2V0IGVsZW1lbnQgdHlwZXMgKHBvc2l0aW9ucylcbiAgYXN5bmMgZ2V0RWxlbWVudFR5cGVzKCk6IFByb21pc2U8YW55W10+IHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdDxhbnk+KCcvYm9vdHN0cmFwLXN0YXRpYy8nKTtcbiAgICByZXR1cm4gZGF0YS5lbGVtZW50X3R5cGVzO1xuICB9XG5cbiAgLy8gR2V0IGFsbCBib290c3RyYXAgZGF0YSBhdCBvbmNlIChwbGF5ZXJzLCB0ZWFtcywgZWxlbWVudCB0eXBlcylcbiAgYXN5bmMgZ2V0Qm9vdHN0cmFwRGF0YSgpOiBQcm9taXNlPHtcbiAgICBlbGVtZW50czogRlBMUGxheWVyW107XG4gICAgdGVhbXM6IEZQTFRlYW1bXTtcbiAgICBlbGVtZW50X3R5cGVzOiBhbnlbXTtcbiAgICBldmVudHM6IEZQTEdhbWV3ZWVrW107XG4gICAgY2hpcHM/OiBhbnlbXTtcbiAgfT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0PGFueT4oJy9ib290c3RyYXAtc3RhdGljLycpO1xuICB9XG5cbiAgLy8gR2V0IGN1cnJlbnQgZ2FtZXdlZWtcbiAgYXN5bmMgZ2V0Q3VycmVudEdhbWV3ZWVrKCk6IFByb21pc2U8RlBMR2FtZXdlZWsgfCBudWxsPiB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3Q8YW55PignL2Jvb3RzdHJhcC1zdGF0aWMvJyk7XG4gICAgcmV0dXJuIGRhdGEuZXZlbnRzLmZpbmQoKGV2ZW50OiBGUExHYW1ld2VlaykgPT4gZXZlbnQuaXNfY3VycmVudCkgfHwgbnVsbDtcbiAgfVxuXG4gIC8vIEdldCBhbGwgZ2FtZXdlZWtzXG4gIGFzeW5jIGdldEdhbWV3ZWVrcygpOiBQcm9taXNlPEZQTEdhbWV3ZWVrW10+IHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdDxhbnk+KCcvYm9vdHN0cmFwLXN0YXRpYy8nKTtcbiAgICByZXR1cm4gZGF0YS5ldmVudHM7XG4gIH1cblxuICAvLyBHZXQgZml4dHVyZXMgZm9yIGEgc3BlY2lmaWMgZ2FtZXdlZWtcbiAgYXN5bmMgZ2V0Rml4dHVyZXMoZ2FtZXdlZWs/OiBudW1iZXIpOiBQcm9taXNlPEZQTEZpeHR1cmVbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+UjSBGZXRjaGluZyBmaXh0dXJlcyBmcm9tIEZQTCBBUEkuLi4nKTtcbiAgICAgIGNvbnN0IGZpeHR1cmVzID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdDxGUExGaXh0dXJlW10+KCcvZml4dHVyZXMvJyk7XG4gICAgICBjb25zb2xlLmxvZyhg8J+TiiBGb3VuZCAke2ZpeHR1cmVzLmxlbmd0aH0gdG90YWwgZml4dHVyZXNgKTtcbiAgICAgIFxuICAgICAgaWYgKGdhbWV3ZWVrKSB7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkRml4dHVyZXMgPSBmaXh0dXJlcy5maWx0ZXIoKGZpeHR1cmU6IEZQTEZpeHR1cmUpID0+IGZpeHR1cmUuZXZlbnQgPT09IGdhbWV3ZWVrKTtcbiAgICAgICAgY29uc29sZS5sb2coYPCfk4ogRm91bmQgJHtmaWx0ZXJlZEZpeHR1cmVzLmxlbmd0aH0gZml4dHVyZXMgZm9yIGdhbWV3ZWVrICR7Z2FtZXdlZWt9YCk7XG4gICAgICAgIHJldHVybiBmaWx0ZXJlZEZpeHR1cmVzO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gZml4dHVyZXM7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBmZXRjaGluZyBmaXh0dXJlczonLCBlcnJvcik7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IGxlYWd1ZSBzdGFuZGluZ3MgZm9yIGEgc3BlY2lmaWMgbGVhZ3VlXG4gIGFzeW5jIGdldExlYWd1ZVN0YW5kaW5ncyhsZWFndWVJZD86IG51bWJlcik6IFByb21pc2U8YW55PiB7XG4gICAgY29uc3QgdGFyZ2V0TGVhZ3VlSWQgPSBsZWFndWVJZCB8fCBMRUFHVUVfSUQ7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoYC9sZWFndWVzLWNsYXNzaWMvJHt0YXJnZXRMZWFndWVJZH0vc3RhbmRpbmdzL2ApO1xuICB9XG5cbiAgLy8gR2V0IG1hbmFnZXIgRlBMIElEIGJ5IGVtYWlsIGZyb20gbGVhZ3VlIHN0YW5kaW5nc1xuICBhc3luYyBnZXRNYW5hZ2VyRnBsSWRCeUVtYWlsKGxlYWd1ZUlkOiBudW1iZXIsIGVtYWlsOiBzdHJpbmcpOiBQcm9taXNlPG51bWJlciB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coYPCflI0gTG9va2luZyBmb3IgbWFuYWdlciB3aXRoIGVtYWlsOiAke2VtYWlsfSBpbiBsZWFndWUgJHtsZWFndWVJZH1gKTtcbiAgICAgIFxuICAgICAgLy8gR2V0IGxlYWd1ZSBzdGFuZGluZ3NcbiAgICAgIGNvbnN0IHN0YW5kaW5ncyA9IGF3YWl0IHRoaXMuZ2V0TGVhZ3VlU3RhbmRpbmdzKGxlYWd1ZUlkKTtcbiAgICAgIGNvbnN0IG1hbmFnZXJzID0gc3RhbmRpbmdzLnN0YW5kaW5ncz8ucmVzdWx0cyB8fCBbXTtcbiAgICAgIFxuICAgICAgLy8gTG9vayBmb3IgbWFuYWdlciB3aXRoIG1hdGNoaW5nIGVtYWlsXG4gICAgICAvLyBOb3RlOiBGUEwgQVBJIGRvZXNuJ3QgZXhwb3NlIGVtYWlscyBkaXJlY3RseSwgc28gd2UgbmVlZCB0byBtYXRjaCBieSBvdGhlciBjcml0ZXJpYVxuICAgICAgLy8gRm9yIG5vdywgd2UnbGwgdXNlIGEgc2ltcGxlIGFwcHJvYWNoIC0geW91IG1heSBuZWVkIHRvIGltcGxlbWVudCBhIG1vcmUgc29waGlzdGljYXRlZCBtYXRjaGluZ1xuICAgICAgXG4gICAgICAvLyBUcnkgdG8gZmluZCBieSBjb21tb24gcGF0dGVybnMgb3IgdXNlIGEgbWFwcGluZyBhcHByb2FjaFxuICAgICAgLy8gVGhpcyBpcyBhIHBsYWNlaG9sZGVyIGltcGxlbWVudGF0aW9uIC0geW91J2xsIG5lZWQgdG8gYWRqdXN0IGJhc2VkIG9uIHlvdXIgc3BlY2lmaWMgbmVlZHNcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYPCfk4ogRm91bmQgJHttYW5hZ2Vycy5sZW5ndGh9IG1hbmFnZXJzIGluIGxlYWd1ZWApO1xuICAgICAgXG4gICAgICAvLyBGb3Igbm93LCByZXR1cm4gbnVsbCAtIHlvdSdsbCBuZWVkIHRvIGltcGxlbWVudCB0aGUgYWN0dWFsIGVtYWlsIG1hdGNoaW5nIGxvZ2ljXG4gICAgICAvLyBiYXNlZCBvbiBob3cgeW91IHdhbnQgdG8gbWF0Y2ggZW1haWxzIHRvIG1hbmFnZXIgSURzXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBtYW5hZ2VyIEZQTCBJRCBieSBlbWFpbDonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvLyBHZXQgbWFuYWdlcidzIHRlYW0gKHJlcXVpcmVzIG1hbmFnZXIgSUQpXG4gIGFzeW5jIGdldE1hbmFnZXJUZWFtKG1hbmFnZXJJZDogbnVtYmVyKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdChgL2VudHJ5LyR7bWFuYWdlcklkfS9gKTtcbiAgfVxuXG4gIC8vIEdldCBtYW5hZ2VyJ3MgdGVhbSBmb3Igc3BlY2lmaWMgZ2FtZXdlZWtcbiAgYXN5bmMgZ2V0TWFuYWdlclRlYW1Gb3JHYW1ld2VlayhtYW5hZ2VySWQ6IG51bWJlciwgZ2FtZXdlZWs6IG51bWJlcik6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoYC9lbnRyeS8ke21hbmFnZXJJZH0vZXZlbnQvJHtnYW1ld2Vla30vcGlja3MvYCk7XG4gIH1cblxuICAvLyBHZXQgY2hpcCB1c2FnZSBmb3IgYWxsIG1hbmFnZXJzIGluIHRoZSBsZWFndWVcbiAgYXN5bmMgZ2V0Q2hpcFVzYWdlKCk6IFByb21pc2U8Q2hpcFVzYWdlW10+IHtcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IGxlYWd1ZSBzdGFuZGluZ3MgdG8gZ2V0IGFsbCBtYW5hZ2VyIElEc1xuICAgICAgY29uc3QgbGVhZ3VlRGF0YSA9IGF3YWl0IHRoaXMuZ2V0TGVhZ3VlU3RhbmRpbmdzKCk7XG4gICAgICBjb25zdCBtYW5hZ2VycyA9IGxlYWd1ZURhdGEuc3RhbmRpbmdzLnJlc3VsdHMgfHwgW107XG4gICAgICBcbiAgICAgIGNvbnN0IGNoaXBVc2FnZTogQ2hpcFVzYWdlW10gPSBbXTtcbiAgICAgIGNvbnN0IGdhbWV3ZWVrcyA9IGF3YWl0IHRoaXMuZ2V0R2FtZXdlZWtzKCk7XG4gICAgICBjb25zdCBmaW5pc2hlZEdhbWV3ZWVrcyA9IGdhbWV3ZWVrcy5maWx0ZXIoZ3cgPT4gZ3cuZmluaXNoZWQpLnNsaWNlKC02KTsgLy8gTGFzdCA2IGdhbWV3ZWVrc1xuICAgICAgXG4gICAgICAvLyBQcm9jZXNzIGVhY2ggbWFuYWdlclxuICAgICAgZm9yIChjb25zdCBtYW5hZ2VyIG9mIG1hbmFnZXJzLnNsaWNlKDAsIDEwKSkgeyAvLyBMaW1pdCB0byB0b3AgMTAgbWFuYWdlcnMgZm9yIHBlcmZvcm1hbmNlXG4gICAgICAgIGNvbnN0IG1hbmFnZXJJZCA9IG1hbmFnZXIuZW50cnk7XG4gICAgICAgIGNvbnN0IG1hbmFnZXJOYW1lID0gYCR7bWFuYWdlci5wbGF5ZXJfZmlyc3RfbmFtZX0gJHttYW5hZ2VyLnBsYXllcl9sYXN0X25hbWV9YDtcbiAgICAgICAgY29uc3QgdGVhbU5hbWUgPSBtYW5hZ2VyLmVudHJ5X25hbWU7XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBlYWNoIGZpbmlzaGVkIGdhbWV3ZWVrIGZvciBjaGlwIHVzYWdlXG4gICAgICAgIGZvciAoY29uc3QgZ2FtZXdlZWsgb2YgZmluaXNoZWRHYW1ld2Vla3MpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdGVhbURhdGEgPSBhd2FpdCB0aGlzLmdldE1hbmFnZXJUZWFtRm9yR2FtZXdlZWsobWFuYWdlcklkLCBnYW1ld2Vlay5pZCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh0ZWFtRGF0YSAmJiB0ZWFtRGF0YS5hY3RpdmVfY2hpcCkge1xuICAgICAgICAgICAgICBjb25zdCBjaGlwVHlwZSA9IHRlYW1EYXRhLmFjdGl2ZV9jaGlwO1xuICAgICAgICAgICAgICBjb25zdCBjaGlwTmFtZSA9IHRoaXMuZ2V0Q2hpcERpc3BsYXlOYW1lKGNoaXBUeXBlLCBnYW1ld2Vlay5pZCk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBjaGlwVXNhZ2UucHVzaCh7XG4gICAgICAgICAgICAgICAgbWFuYWdlcklkLFxuICAgICAgICAgICAgICAgIG1hbmFnZXJOYW1lLFxuICAgICAgICAgICAgICAgIHRlYW1OYW1lLFxuICAgICAgICAgICAgICAgIGdhbWV3ZWVrOiBnYW1ld2Vlay5pZCxcbiAgICAgICAgICAgICAgICBjaGlwVHlwZSxcbiAgICAgICAgICAgICAgICBjaGlwTmFtZSxcbiAgICAgICAgICAgICAgICBwb2ludHM6IHRlYW1EYXRhLmVudHJ5X2hpc3Rvcnk/LnBvaW50cyB8fCAwLFxuICAgICAgICAgICAgICAgIHJhbms6IG1hbmFnZXIucmFua1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBGYWlsZWQgdG8gZ2V0IHRlYW0gZGF0YSBmb3IgbWFuYWdlciAke21hbmFnZXJJZH0gaW4gR1cgJHtnYW1ld2Vlay5pZH06YCwgZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gY2hpcFVzYWdlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBjaGlwIHVzYWdlOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIEdldCBjaGlwIHdpbm5lcnMgZm9yIGVhY2ggY2hpcCB0eXBlXG4gIGFzeW5jIGdldENoaXBXaW5uZXJzKCk6IFByb21pc2U8e1xuICAgIFtjaGlwVHlwZTogc3RyaW5nXToge1xuICAgICAgZ2FtZXdlZWs6IG51bWJlcjtcbiAgICAgIG1hbmFnZXJJZDogbnVtYmVyO1xuICAgICAgbWFuYWdlck5hbWU6IHN0cmluZztcbiAgICAgIHBvaW50czogbnVtYmVyO1xuICAgICAgY2hpcE5hbWU6IHN0cmluZztcbiAgICB9W107XG4gIH0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY2hpcFVzYWdlID0gYXdhaXQgdGhpcy5nZXRDaGlwVXNhZ2UoKTtcbiAgICAgIGNvbnN0IGNoaXBXaW5uZXJzOiB7IFtjaGlwVHlwZTogc3RyaW5nXTogYW55W10gfSA9IHt9O1xuICAgICAgXG4gICAgICAvLyBHcm91cCBjaGlwIHVzYWdlIGJ5IGNoaXAgdHlwZVxuICAgICAgY29uc3QgY2hpcFVzYWdlQnlUeXBlOiB7IFtjaGlwVHlwZTogc3RyaW5nXTogQ2hpcFVzYWdlW10gfSA9IHt9O1xuICAgICAgY2hpcFVzYWdlLmZvckVhY2godXNhZ2UgPT4ge1xuICAgICAgICBpZiAoIWNoaXBVc2FnZUJ5VHlwZVt1c2FnZS5jaGlwVHlwZV0pIHtcbiAgICAgICAgICBjaGlwVXNhZ2VCeVR5cGVbdXNhZ2UuY2hpcFR5cGVdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgY2hpcFVzYWdlQnlUeXBlW3VzYWdlLmNoaXBUeXBlXS5wdXNoKHVzYWdlKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBGb3IgZWFjaCBjaGlwIHR5cGUsIGZpbmQgdGhlIHdpbm5lcihzKSB3aXRoIGhpZ2hlc3QgcG9pbnRzXG4gICAgICBmb3IgKGNvbnN0IFtjaGlwVHlwZSwgdXNhZ2VzXSBvZiBPYmplY3QuZW50cmllcyhjaGlwVXNhZ2VCeVR5cGUpKSB7XG4gICAgICAgIGlmICghY2hpcFdpbm5lcnNbY2hpcFR5cGVdKSB7XG4gICAgICAgICAgY2hpcFdpbm5lcnNbY2hpcFR5cGVdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEdyb3VwIGJ5IGdhbWV3ZWVrIHRvIGhhbmRsZSBtdWx0aXBsZSBnYW1ld2Vla3NcbiAgICAgICAgY29uc3QgdXNhZ2VCeUdhbWV3ZWVrOiB7IFtnYW1ld2VlazogbnVtYmVyXTogQ2hpcFVzYWdlW10gfSA9IHt9O1xuICAgICAgICB1c2FnZXMuZm9yRWFjaCh1c2FnZSA9PiB7XG4gICAgICAgICAgaWYgKCF1c2FnZUJ5R2FtZXdlZWtbdXNhZ2UuZ2FtZXdlZWtdKSB7XG4gICAgICAgICAgICB1c2FnZUJ5R2FtZXdlZWtbdXNhZ2UuZ2FtZXdlZWtdID0gW107XG4gICAgICAgICAgfVxuICAgICAgICAgIHVzYWdlQnlHYW1ld2Vla1t1c2FnZS5nYW1ld2Vla10ucHVzaCh1c2FnZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gRmluZCB3aW5uZXJzIGZvciBlYWNoIGdhbWV3ZWVrXG4gICAgICAgIGZvciAoY29uc3QgW2dhbWV3ZWVrLCBnYW1ld2Vla1VzYWdlc10gb2YgT2JqZWN0LmVudHJpZXModXNhZ2VCeUdhbWV3ZWVrKSkge1xuICAgICAgICAgIGNvbnN0IG1heFBvaW50cyA9IE1hdGgubWF4KC4uLmdhbWV3ZWVrVXNhZ2VzLm1hcCh1ID0+IHUucG9pbnRzKSk7XG4gICAgICAgICAgY29uc3Qgd2lubmVycyA9IGdhbWV3ZWVrVXNhZ2VzLmZpbHRlcih1ID0+IHUucG9pbnRzID09PSBtYXhQb2ludHMpO1xuICAgICAgICAgIFxuICAgICAgICAgIHdpbm5lcnMuZm9yRWFjaCh3aW5uZXIgPT4ge1xuICAgICAgICAgICAgY2hpcFdpbm5lcnNbY2hpcFR5cGVdLnB1c2goe1xuICAgICAgICAgICAgICBnYW1ld2Vlazogd2lubmVyLmdhbWV3ZWVrLFxuICAgICAgICAgICAgICBtYW5hZ2VySWQ6IHdpbm5lci5tYW5hZ2VySWQsXG4gICAgICAgICAgICAgIG1hbmFnZXJOYW1lOiB3aW5uZXIubWFuYWdlck5hbWUsXG4gICAgICAgICAgICAgIHBvaW50czogd2lubmVyLnBvaW50cyxcbiAgICAgICAgICAgICAgY2hpcE5hbWU6IHdpbm5lci5jaGlwTmFtZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIGNoaXBXaW5uZXJzO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGNoaXAgd2lubmVyczonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvLyBGZXRjaCBhbmQgc3RvcmUgbWF0Y2ggZGF0YSBmb3IgYSBzcGVjaWZpYyBnYW1ld2Vla1xuICBhc3luYyBmZXRjaEFuZFN0b3JlTWF0Y2hEYXRhKGdhbWV3ZWVrOiBudW1iZXIpOiBQcm9taXNlPE1hdGNoRGF0YVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5SNIEZldGNoaW5nIG1hdGNoIGRhdGEgZm9yIGdhbWV3ZWVrICR7Z2FtZXdlZWt9Li4uYCk7XG4gICAgICBcbiAgICAgIC8vIEZldGNoIGZpeHR1cmVzIGZvciB0aGUgZ2FtZXdlZWtcbiAgICAgIGNvbnN0IGZpeHR1cmVzID0gYXdhaXQgdGhpcy5nZXRGaXh0dXJlcyhnYW1ld2Vlayk7XG4gICAgICBpZiAoZml4dHVyZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGDimqDvuI8gTm8gZml4dHVyZXMgZm91bmQgZm9yIGdhbWV3ZWVrICR7Z2FtZXdlZWt9YCk7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cblxuICAgICAgLy8gRmV0Y2ggYm9vdHN0cmFwIGRhdGEgZm9yIHRlYW0gYW5kIHBsYXllciBtYXBwaW5nXG4gICAgICBjb25zdCBib290c3RyYXBEYXRhID0gYXdhaXQgdGhpcy5nZXRCb290c3RyYXBEYXRhKCk7XG4gICAgICBjb25zdCB0ZWFtTWFwID0gbmV3IE1hcChib290c3RyYXBEYXRhLnRlYW1zLm1hcCh0ZWFtID0+IFt0ZWFtLmlkLCB0ZWFtLm5hbWVdKSk7XG4gICAgICBjb25zdCBwbGF5ZXJNYXAgPSBuZXcgTWFwKGJvb3RzdHJhcERhdGEuZWxlbWVudHMubWFwKHBsYXllciA9PiBbcGxheWVyLmlkLCBwbGF5ZXIud2ViX25hbWVdKSk7XG5cbiAgICAgIGNvbnN0IG1hdGNoRGF0YUFycmF5OiBNYXRjaERhdGFbXSA9IFtdO1xuXG4gICAgICBmb3IgKGNvbnN0IGZpeHR1cmUgb2YgZml4dHVyZXMpIHtcbiAgICAgICAgY29uc3QgbWF0Y2hEYXRhID0gdGhpcy5wcm9jZXNzRml4dHVyZURhdGEoZml4dHVyZSwgdGVhbU1hcCwgcGxheWVyTWFwKTtcbiAgICAgICAgaWYgKG1hdGNoRGF0YSkge1xuICAgICAgICAgIG1hdGNoRGF0YUFycmF5LnB1c2gobWF0Y2hEYXRhKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFByb2Nlc3NlZCAke21hdGNoRGF0YUFycmF5Lmxlbmd0aH0gbWF0Y2hlcyBmb3IgZ2FtZXdlZWsgJHtnYW1ld2Vla31gKTtcbiAgICAgIHJldHVybiBtYXRjaERhdGFBcnJheTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihg4p2MIEVycm9yIGZldGNoaW5nIG1hdGNoIGRhdGEgZm9yIGdhbWV3ZWVrICR7Z2FtZXdlZWt9OmAsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIFByb2Nlc3MgaW5kaXZpZHVhbCBmaXh0dXJlIGRhdGFcbiAgcHJpdmF0ZSBwcm9jZXNzRml4dHVyZURhdGEoXG4gICAgZml4dHVyZTogRlBMRml4dHVyZSwgXG4gICAgdGVhbU1hcDogTWFwPG51bWJlciwgc3RyaW5nPiwgXG4gICAgcGxheWVyTWFwOiBNYXA8bnVtYmVyLCBzdHJpbmc+XG4gICk6IE1hdGNoRGF0YSB8IG51bGwge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBob21lVGVhbU5hbWUgPSB0ZWFtTWFwLmdldChmaXh0dXJlLnRlYW1faCkgfHwgYFRlYW0gJHtmaXh0dXJlLnRlYW1faH1gO1xuICAgICAgY29uc3QgYXdheVRlYW1OYW1lID0gdGVhbU1hcC5nZXQoZml4dHVyZS50ZWFtX2EpIHx8IGBUZWFtICR7Zml4dHVyZS50ZWFtX2F9YDtcblxuICAgICAgLy8gQ3JlYXRlIG1hdGNoIHJlc3VsdFxuICAgICAgY29uc3QgbWF0Y2hSZXN1bHQ6IE1hdGNoUmVzdWx0ID0ge1xuICAgICAgICBmaXh0dXJlSWQ6IGZpeHR1cmUuaWQsXG4gICAgICAgIGdhbWV3ZWVrOiBmaXh0dXJlLmV2ZW50LFxuICAgICAgICBob21lVGVhbUlkOiBmaXh0dXJlLnRlYW1faCxcbiAgICAgICAgYXdheVRlYW1JZDogZml4dHVyZS50ZWFtX2EsXG4gICAgICAgIGhvbWVUZWFtTmFtZSxcbiAgICAgICAgYXdheVRlYW1OYW1lLFxuICAgICAgICBob21lU2NvcmU6IGZpeHR1cmUudGVhbV9oX3Njb3JlIHx8IDAsXG4gICAgICAgIGF3YXlTY29yZTogZml4dHVyZS50ZWFtX2Ffc2NvcmUgfHwgMCxcbiAgICAgICAga2lja29mZlRpbWU6IGZpeHR1cmUua2lja29mZl90aW1lLFxuICAgICAgICBmaW5pc2hlZDogZml4dHVyZS5maW5pc2hlZCxcbiAgICAgICAgc3RhcnRlZDogZml4dHVyZS5zdGFydGVkLFxuICAgICAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKVxuICAgICAgfTtcblxuICAgICAgLy8gRXh0cmFjdCBnb2Fsc2NvcmVycyBmcm9tIHN0YXRzXG4gICAgICBjb25zdCBnb2Fsc2NvcmVyczogR29hbHNjb3JlcltdID0gW107XG4gICAgICBjb25zdCBnb2Fsc1Njb3JlZCA9IGZpeHR1cmUuc3RhdHM/LmZpbmQoc3RhdCA9PiBzdGF0LmlkZW50aWZpZXIgPT09ICdnb2Fsc19zY29yZWQnKTtcbiAgICAgIFxuICAgICAgaWYgKGdvYWxzU2NvcmVkKSB7XG4gICAgICAgIC8vIFByb2Nlc3MgaG9tZSB0ZWFtIGdvYWxzY29yZXJzXG4gICAgICAgIGlmIChnb2Fsc1Njb3JlZC5oKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBwbGF5ZXJTdGF0IG9mIGdvYWxzU2NvcmVkLmgpIHtcbiAgICAgICAgICAgIGNvbnN0IHBsYXllck5hbWUgPSBwbGF5ZXJNYXAuZ2V0KHBsYXllclN0YXQuZWxlbWVudCkgfHwgYFBsYXllciAke3BsYXllclN0YXQuZWxlbWVudH1gO1xuICAgICAgICAgICAgZ29hbHNjb3JlcnMucHVzaCh7XG4gICAgICAgICAgICAgIG1hdGNoUmVzdWx0SWQ6IDAsIC8vIFdpbGwgYmUgc2V0IHdoZW4gc2F2aW5nXG4gICAgICAgICAgICAgIHBsYXllcklkOiBwbGF5ZXJTdGF0LmVsZW1lbnQsXG4gICAgICAgICAgICAgIHBsYXllck5hbWUsXG4gICAgICAgICAgICAgIHRlYW1JZDogZml4dHVyZS50ZWFtX2gsXG4gICAgICAgICAgICAgIHRlYW1OYW1lOiBob21lVGVhbU5hbWUsXG4gICAgICAgICAgICAgIGdvYWxzOiBwbGF5ZXJTdGF0LnZhbHVlLFxuICAgICAgICAgICAgICBpc0hvbWVUZWFtOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQcm9jZXNzIGF3YXkgdGVhbSBnb2Fsc2NvcmVyc1xuICAgICAgICBpZiAoZ29hbHNTY29yZWQuYSkge1xuICAgICAgICAgIGZvciAoY29uc3QgcGxheWVyU3RhdCBvZiBnb2Fsc1Njb3JlZC5hKSB7XG4gICAgICAgICAgICBjb25zdCBwbGF5ZXJOYW1lID0gcGxheWVyTWFwLmdldChwbGF5ZXJTdGF0LmVsZW1lbnQpIHx8IGBQbGF5ZXIgJHtwbGF5ZXJTdGF0LmVsZW1lbnR9YDtcbiAgICAgICAgICAgIGdvYWxzY29yZXJzLnB1c2goe1xuICAgICAgICAgICAgICBtYXRjaFJlc3VsdElkOiAwLCAvLyBXaWxsIGJlIHNldCB3aGVuIHNhdmluZ1xuICAgICAgICAgICAgICBwbGF5ZXJJZDogcGxheWVyU3RhdC5lbGVtZW50LFxuICAgICAgICAgICAgICBwbGF5ZXJOYW1lLFxuICAgICAgICAgICAgICB0ZWFtSWQ6IGZpeHR1cmUudGVhbV9hLFxuICAgICAgICAgICAgICB0ZWFtTmFtZTogYXdheVRlYW1OYW1lLFxuICAgICAgICAgICAgICBnb2FsczogcGxheWVyU3RhdC52YWx1ZSxcbiAgICAgICAgICAgICAgaXNIb21lVGVhbTogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBtYXRjaFJlc3VsdCxcbiAgICAgICAgZ29hbHNjb3JlcnNcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBFcnJvciBwcm9jZXNzaW5nIGZpeHR1cmUgJHtmaXh0dXJlLmlkfTpgLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvLyBHZXQgbWF0Y2ggZGF0YSBmb3IgYSBzcGVjaWZpYyBnYW1ld2VlayAoZnJvbSBkYXRhYmFzZSlcbiAgYXN5bmMgZ2V0TWF0Y2hEYXRhRm9yR2FtZXdlZWsoZ2FtZXdlZWs6IG51bWJlcik6IFByb21pc2U8TWF0Y2hEYXRhW10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYlV0aWxzIH0gPSBhd2FpdCBpbXBvcnQoJy4vZGF0YWJhc2UnKTtcbiAgICAgIGNvbnN0IG1hdGNoUmVzdWx0cyA9IGF3YWl0IGRiVXRpbHMuZ2V0TWF0Y2hSZXN1bHRzQnlHYW1ld2VlayhnYW1ld2Vlayk7XG4gICAgICBcbiAgICAgIGNvbnN0IG1hdGNoRGF0YUFycmF5OiBNYXRjaERhdGFbXSA9IFtdO1xuICAgICAgXG4gICAgICBmb3IgKGNvbnN0IG1hdGNoUmVzdWx0IG9mIG1hdGNoUmVzdWx0cykge1xuICAgICAgICBjb25zdCBnb2Fsc2NvcmVycyA9IGF3YWl0IGRiVXRpbHMuZ2V0R29hbHNjb3JlcnNCeU1hdGNoKG1hdGNoUmVzdWx0LmlkISk7XG4gICAgICAgIG1hdGNoRGF0YUFycmF5LnB1c2goe1xuICAgICAgICAgIG1hdGNoUmVzdWx0LFxuICAgICAgICAgIGdvYWxzY29yZXJzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gbWF0Y2hEYXRhQXJyYXk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBFcnJvciBnZXR0aW5nIG1hdGNoIGRhdGEgZm9yIGdhbWV3ZWVrICR7Z2FtZXdlZWt9OmAsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIFN0b3JlIG1hdGNoIGRhdGEgaW4gZGF0YWJhc2VcbiAgYXN5bmMgc3RvcmVNYXRjaERhdGEobWF0Y2hEYXRhQXJyYXk6IE1hdGNoRGF0YVtdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGJVdGlscyB9ID0gYXdhaXQgaW1wb3J0KCcuL2RhdGFiYXNlJyk7XG4gICAgICBcbiAgICAgIGZvciAoY29uc3QgbWF0Y2hEYXRhIG9mIG1hdGNoRGF0YUFycmF5KSB7XG4gICAgICAgIGF3YWl0IGRiVXRpbHMuc2F2ZU1hdGNoRGF0YShtYXRjaERhdGEpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFN0b3JlZCAke21hdGNoRGF0YUFycmF5Lmxlbmd0aH0gbWF0Y2ggcmVjb3JkcyBpbiBkYXRhYmFzZWApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3Igc3RvcmluZyBtYXRjaCBkYXRhOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIENvbXBsZXRlIHdvcmtmbG93OiBmZXRjaCwgcHJvY2VzcywgYW5kIHN0b3JlIG1hdGNoIGRhdGFcbiAgYXN5bmMgZmV0Y2hQcm9jZXNzQW5kU3RvcmVNYXRjaERhdGEoZ2FtZXdlZWs6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhg8J+agCBTdGFydGluZyBjb21wbGV0ZSB3b3JrZmxvdyBmb3IgZ2FtZXdlZWsgJHtnYW1ld2Vla30uLi5gKTtcbiAgICAgIFxuICAgICAgLy8gRmV0Y2ggYW5kIHByb2Nlc3MgbWF0Y2ggZGF0YVxuICAgICAgY29uc3QgbWF0Y2hEYXRhQXJyYXkgPSBhd2FpdCB0aGlzLmZldGNoQW5kU3RvcmVNYXRjaERhdGEoZ2FtZXdlZWspO1xuICAgICAgXG4gICAgICBpZiAobWF0Y2hEYXRhQXJyYXkubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBTdG9yZSBpbiBkYXRhYmFzZVxuICAgICAgICBhd2FpdCB0aGlzLnN0b3JlTWF0Y2hEYXRhKG1hdGNoRGF0YUFycmF5KTtcbiAgICAgICAgY29uc29sZS5sb2coYOKchSBTdWNjZXNzZnVsbHkgcHJvY2Vzc2VkIGFuZCBzdG9yZWQgbWF0Y2ggZGF0YSBmb3IgZ2FtZXdlZWsgJHtnYW1ld2Vla31gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGDimqDvuI8gTm8gbWF0Y2ggZGF0YSB0byBzdG9yZSBmb3IgZ2FtZXdlZWsgJHtnYW1ld2Vla31gKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihg4p2MIEVycm9yIGluIGNvbXBsZXRlIHdvcmtmbG93IGZvciBnYW1ld2VlayAke2dhbWV3ZWVrfTpgLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvLyBIZWxwZXIgbWV0aG9kIHRvIGdldCBjaGlwIGRpc3BsYXkgbmFtZVxuICBwcml2YXRlIGdldENoaXBEaXNwbGF5TmFtZShjaGlwVHlwZTogc3RyaW5nLCBnYW1ld2VlazogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBjb25zdCBjaGlwTmFtZXM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7XG4gICAgICAnYmJvb3N0JzogJ0JlbmNoIEJvb3N0JyxcbiAgICAgICdmcmVlaGl0JzogJ0ZyZWUgSGl0JyxcbiAgICAgICd3aWxkY2FyZCc6ICdXaWxkY2FyZCcsXG4gICAgICAnM3hjJzogJ1RyaXBsZSBDYXB0YWluJ1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgYmFzZU5hbWUgPSBjaGlwTmFtZXNbY2hpcFR5cGVdIHx8IGNoaXBUeXBlO1xuICAgIHJldHVybiBgJHtiYXNlTmFtZX0gJHtnYW1ld2VlayA8PSAxOSA/ICdJJyA6ICdJSSd9YDtcbiAgfVxuXG4gIC8vIEdldCBsZWFndWUgSURcbiAgZ2V0TGVhZ3VlSWQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTEVBR1VFX0lEO1xuICB9XG5cbiAgLy8gQ2xlYXIgY2FjaGVcbiAgY2xlYXJDYWNoZSgpOiB2b2lkIHtcbiAgICB0aGlzLmNhY2hlLmNsZWFyKCk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGZwbEFwaSA9IEZQTEFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKTsgIl0sIm5hbWVzIjpbImF4aW9zIiwiTEVBR1VFX0lEIiwiRlBMQXBpU2VydmljZSIsImNhY2hlIiwiTWFwIiwiQ0FDSEVfRFVSQVRJT04iLCJnZXRJbnN0YW5jZSIsImluc3RhbmNlIiwibWFrZVJlcXVlc3QiLCJlbmRwb2ludCIsImlzVGVzdE1vZGUiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfVEVTVF9NT0RFIiwibW9ja0FwaUVuYWJsZWQiLCJORVhUX1BVQkxJQ19NT0NLX0FQSSIsImdldE1vY2tEYXRhIiwiY2FjaGVLZXkiLCJjYWNoZWQiLCJnZXQiLCJEYXRlIiwibm93IiwidGltZXN0YW1wIiwiZGF0YSIsInJlc3BvbnNlIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwic2V0IiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwiaW5jbHVkZXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsImxlYWd1ZSIsImlkIiwibmFtZSIsImFkbWluX2VudHJ5Iiwic2hvcnRfbmFtZSIsInNjb3JpbmciLCJuZXdfZW50cmllcyIsInJlc3VsdHMiLCJlbnRyeSIsImVudHJ5X25hbWUiLCJwbGF5ZXJfZmlyc3RfbmFtZSIsInBsYXllcl9sYXN0X25hbWUiLCJyYW5rIiwidG90YWwiLCJldmVudHMiLCJkZWFkbGluZV90aW1lIiwidG9JU09TdHJpbmciLCJmaW5pc2hlZCIsImlzX2N1cnJlbnQiLCJ0ZWFtcyIsImVsZW1lbnRzIiwiZmlyc3RfbmFtZSIsInNlY29uZF9uYW1lIiwid2ViX25hbWUiLCJ0ZWFtIiwiY2hpcHMiLCJzdGFydF9ldmVudCIsInN0b3BfZXZlbnQiLCJjb2RlIiwiZXZlbnQiLCJ0ZWFtX2EiLCJ0ZWFtX2giLCJ0ZWFtX2Ffc2NvcmUiLCJ0ZWFtX2hfc2NvcmUiLCJnZXRUZWFtcyIsImdldFBsYXllcnMiLCJnZXRFbGVtZW50VHlwZXMiLCJlbGVtZW50X3R5cGVzIiwiZ2V0Qm9vdHN0cmFwRGF0YSIsImdldEN1cnJlbnRHYW1ld2VlayIsImZpbmQiLCJnZXRHYW1ld2Vla3MiLCJnZXRGaXh0dXJlcyIsImdhbWV3ZWVrIiwiZml4dHVyZXMiLCJsZW5ndGgiLCJmaWx0ZXJlZEZpeHR1cmVzIiwiZmlsdGVyIiwiZml4dHVyZSIsImdldExlYWd1ZVN0YW5kaW5ncyIsImxlYWd1ZUlkIiwidGFyZ2V0TGVhZ3VlSWQiLCJnZXRNYW5hZ2VyRnBsSWRCeUVtYWlsIiwiZW1haWwiLCJzdGFuZGluZ3MiLCJtYW5hZ2VycyIsImdldE1hbmFnZXJUZWFtIiwibWFuYWdlcklkIiwiZ2V0TWFuYWdlclRlYW1Gb3JHYW1ld2VlayIsImdldENoaXBVc2FnZSIsImxlYWd1ZURhdGEiLCJjaGlwVXNhZ2UiLCJnYW1ld2Vla3MiLCJmaW5pc2hlZEdhbWV3ZWVrcyIsImd3Iiwic2xpY2UiLCJtYW5hZ2VyIiwibWFuYWdlck5hbWUiLCJ0ZWFtTmFtZSIsInRlYW1EYXRhIiwiYWN0aXZlX2NoaXAiLCJjaGlwVHlwZSIsImNoaXBOYW1lIiwiZ2V0Q2hpcERpc3BsYXlOYW1lIiwicHVzaCIsInBvaW50cyIsImVudHJ5X2hpc3RvcnkiLCJ3YXJuIiwiZ2V0Q2hpcFdpbm5lcnMiLCJjaGlwV2lubmVycyIsImNoaXBVc2FnZUJ5VHlwZSIsImZvckVhY2giLCJ1c2FnZSIsInVzYWdlcyIsIk9iamVjdCIsImVudHJpZXMiLCJ1c2FnZUJ5R2FtZXdlZWsiLCJnYW1ld2Vla1VzYWdlcyIsIm1heFBvaW50cyIsIk1hdGgiLCJtYXgiLCJtYXAiLCJ1Iiwid2lubmVycyIsIndpbm5lciIsImZldGNoQW5kU3RvcmVNYXRjaERhdGEiLCJib290c3RyYXBEYXRhIiwidGVhbU1hcCIsInBsYXllck1hcCIsInBsYXllciIsIm1hdGNoRGF0YUFycmF5IiwibWF0Y2hEYXRhIiwicHJvY2Vzc0ZpeHR1cmVEYXRhIiwiaG9tZVRlYW1OYW1lIiwiYXdheVRlYW1OYW1lIiwibWF0Y2hSZXN1bHQiLCJmaXh0dXJlSWQiLCJob21lVGVhbUlkIiwiYXdheVRlYW1JZCIsImhvbWVTY29yZSIsImF3YXlTY29yZSIsImtpY2tvZmZUaW1lIiwia2lja29mZl90aW1lIiwic3RhcnRlZCIsImxhc3RVcGRhdGVkIiwiZ29hbHNjb3JlcnMiLCJnb2Fsc1Njb3JlZCIsInN0YXRzIiwic3RhdCIsImlkZW50aWZpZXIiLCJoIiwicGxheWVyU3RhdCIsInBsYXllck5hbWUiLCJlbGVtZW50IiwibWF0Y2hSZXN1bHRJZCIsInBsYXllcklkIiwidGVhbUlkIiwiZ29hbHMiLCJ2YWx1ZSIsImlzSG9tZVRlYW0iLCJhIiwiZ2V0TWF0Y2hEYXRhRm9yR2FtZXdlZWsiLCJkYlV0aWxzIiwibWF0Y2hSZXN1bHRzIiwiZ2V0TWF0Y2hSZXN1bHRzQnlHYW1ld2VlayIsImdldEdvYWxzY29yZXJzQnlNYXRjaCIsInN0b3JlTWF0Y2hEYXRhIiwic2F2ZU1hdGNoRGF0YSIsImZldGNoUHJvY2Vzc0FuZFN0b3JlTWF0Y2hEYXRhIiwiY2hpcE5hbWVzIiwiYmFzZU5hbWUiLCJnZXRMZWFndWVJZCIsImNsZWFyQ2FjaGUiLCJjbGVhciIsImZwbEFwaSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/fpl-api.ts\n");

/***/ })

};
;